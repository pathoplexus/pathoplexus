import{j as e}from"./jsx-runtime.C9E4cUVc.js";import{r}from"./index.BOC3FD3Q.js";import{r as v}from"./routes.B4evqrXf.js";import"./SubmissionRoute.C0UznQB_.js";import"./lapis.BMBLPoxt.js";const y=(n,o)=>e.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",ref:o,...n,children:e.jsx("path",{fill:"currentColor",d:"m19.6 21l-6.3-6.3q-.75.6-1.725.95T9.5 16q-2.725 0-4.612-1.888T3 9.5t1.888-4.612T9.5 3t4.613 1.888T16 9.5q0 1.1-.35 2.075T14.7 13.3l6.3 6.3zM9.5 14q1.875 0 3.188-1.312T14 9.5t-1.312-3.187T9.5 5T6.313 6.313T5 9.5t1.313 3.188T9.5 14"})}),w=r.forwardRef(y),E=({className:n,onSubmitSuccess:o,defaultOpen:u,fullWidth:p})=>{const[i,d]=r.useState(""),[s,a]=r.useState(!!u),m=r.useRef(null),[f,c]=r.useState(null);r.useEffect(()=>{s&&m.current?.focus()},[s]);function h(t){return/^[A-Za-z0-9._-]+$/.test(t)}const x=t=>{t.preventDefault();const l=i.trim();if(!l){a(!0),c(null);return}if(!h(l)){c("Invalid accession format.");return}c(null),o?.(),window.location.href=v.sequenceEntryDetailsPage(l)};return e.jsxs("form",{onSubmit:x,className:n,role:"search","aria-label":"Accession search","data-testid":"nav-accession-search-form",children:[e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("button",{type:"submit",onClick:()=>a(!0),className:"flex items-center justify-center text-primary-600 hover:text-primary-700 transition-colors","aria-label":s?"Search":"Open accession search","data-testid":"nav-accession-search-button",children:e.jsx(w,{className:"w-5 h-5"})}),e.jsx("input",{ref:m,type:"text",value:i,onChange:t=>d(t.target.value),onKeyDown:t=>{t.key==="Escape"&&a(!1)},onBlur:()=>{!i.trim()&&!u&&a(!1)},placeholder:"Search by accession",className:"input input-bordered input-md text-sm placeholder:text-gray-500 text-gray-900 bg-white focus:border-primary focus:outline-none transition-all duration-200 ease-out ml-2 "+(s?`px-3 ${p?"w-full":"w-36 lg:w-48"} opacity-100`:"px-0 w-0 opacity-0 pointer-events-none"),"aria-label":"Enter an accession or accession.version","data-testid":"nav-accession-search-input"})]}),f&&e.jsx("div",{className:"text-red-600 text-xs mt-1",role:"alert","data-testid":"nav-accession-search-error",children:f})]})};export{E as default};
