import{j as t}from"./jsx-runtime.C9E4cUVc.js";import{r as h}from"./index.BOC3FD3Q.js";import{u as O}from"./isClient.CwQyaCl4.js";import{r as I}from"./routes.B4evqrXf.js";import{F as P,a as R}from"./triangle-down.BYwo0cVz.js";import{P as A}from"./Pagination.BSeKhfNm.js";import"./SubmissionRoute.C0UznQB_.js";import"./lapis.BMBLPoxt.js";import"./useTheme.DwRJctbP.js";import"./clsx.B-dksMZM.js";import"./ButtonBase.BnBxMrJ6.js";const D=r=>{const{order:l,orderBy:u,onRequestSort:c}=r,g=[{id:"createdAt",label:"Last Updated"},{id:"name",label:"Name"},{id:"seqSetVersion",label:"Version"},{id:"seqSetDOI",label:"DOI"}],n=a=>m=>{c(m,a)};return t.jsx("thead",{className:"bg-gray-100",children:t.jsx("tr",{children:g.map((a,m)=>t.jsx("th",{className:`px-2 py-5 text-xs w-1/12 font-medium tracking-wider uppercase ${m===0?"pl-6":"last:pr-6 text-left"}`,children:t.jsxs("span",{className:`cursor-pointer ${u===a.id?"active":""}`,onClick:n(a.id),children:[a.label,u===a.id?t.jsx("span",{children:l==="desc"?t.jsx(P,{className:"w-3 h-3 ml-1 inline"}):t.jsx(R,{className:"w-3 h-3 ml-1 inline"})}):null]})},a.id))})})},Y=({seqSets:r})=>{const[l,u]=h.useState("desc"),[c,g]=h.useState("createdAt"),[n,a]=h.useState(1),m=O(),p=5,b=(e,s)=>{u(c===s&&l==="asc"?"desc":"asc"),g(s)},N=(e,s,o)=>{window.location.href=I.seqSetPage(s,o)},y=(e,s)=>{a(s)},w=()=>Math.ceil(r.length/p),q=(e,s)=>{if(s===void 0)return()=>0;const o=(i,d,x)=>d[x]<i[x]?-1:d[x]>i[x]?1:0;return e==="desc"?(i,d)=>o(i,d,s):(i,d)=>-o(i,d,s)},j=n>1?Math.max(0,n*p-r.length):0,v=h.useMemo(()=>r.sort(q(l,c)).slice((n-1)*p,n*p),[r,l,c,n,p]),f=25,S=e=>e==null?"N/A":e.length>f?e.substring(0,f)+"...":e,C=e=>new Date(e).toISOString().split("T")[0];return t.jsxs("div",{className:"shadow-md",children:[t.jsxs("table",{className:"w-full text-left border-collapse",children:[r.length>0?t.jsx(D,{order:l,orderBy:c,onRequestSort:b,rowCount:r.length}):null,t.jsxs("tbody",{className:"bg-white",children:[v.map((e,s)=>{const o=`table-row-${s}`;return t.jsxs("tr",{id:o,className:"hover:bg-primary-100 border-gray-100 cursor-pointer",onClick:i=>N(i,e.seqSetId,e.seqSetVersion.toString()),"data-testid":m?e.name:"disabled",children:[t.jsx("td",{className:"px-2 whitespace-nowrap text-primary-900 pl-6",children:C(e.createdAt)}),t.jsx("td",{className:"px-2 py-2 text-primary-900 last:pr-6",children:S(e.name)}),t.jsx("td",{className:"px-2 py-2 text-primary-900 last:pr-6",children:e.seqSetVersion}),t.jsx("td",{className:"px-2 py-2 text-primary-900 last:pr-6",children:e.seqSetDOI!==void 0?S(e.seqSetDOI):"N/A"})]},`${e.seqSetId}.${e.seqSetVersion}`)}),j>0?t.jsx("tr",{style:{height:40*j},children:t.jsx("td",{colSpan:8})}):null]})]}),r.length===0?t.jsx("p",{className:"px-8 py-8",children:" You have no SeqSets yet. "}):t.jsx(A,{className:"py-4 w-full flex justify-center",page:n,count:w(),color:"primary",variant:"outlined",shape:"rounded",onChange:y})]})};export{Y as SeqSetList};
