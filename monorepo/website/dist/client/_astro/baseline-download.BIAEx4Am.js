import{o as x,p as Me,m as Ke,K as le,y as de,f as B,d as te,$ as $e,a as Pe,_ as he,L as re,u as We,x as Ge,i as ce,n as Q,R as qe,h as Je,b as Ee,c as Qe,r as Xe,w as Ye,e as Ze,O as Se}from"./open-closed.CJcKiZsm.js";import{r as d,R as I}from"./index.BOC3FD3Q.js";import{r as J}from"./index.CExoqQxK.js";import{Q as et,B as tt,d as nt,n as ze,l as $,I as be,U as ot,x as it,R as st,e as lt,m as rt,g as at,h as ut,i as ct,j as Oe,r as dt,C as ft,u as pt,D as mt,k as ht,K as bt,M as vt,t as Ie,_ as gt}from"./index.B7uol7Hd.js";import{f as _e,s as De,E as xt,m as ye,r as Ce}from"./info-outline.Ba8IpcSU.js";import{j as Te}from"./jsx-runtime.C9E4cUVc.js";function Et(e,i,t){let[n,o]=d.useState(t),r=e!==void 0,l=d.useRef(r),s=d.useRef(!1),a=d.useRef(!1);return r&&!l.current&&!s.current?(s.current=!0,l.current=r,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!r&&l.current&&!a.current&&(a.current=!0,l.current=r,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[r?e:n,x(c=>(r||o(c),i?.(c)))]}function St(e){let[i]=d.useState(e);return i}function Fe(e={},i=null,t=[]){for(let[n,o]of Object.entries(e))Ae(t,ke(i,n),o);return t}function ke(e,i){return e?e+"["+i+"]":i}function Ae(e,i,t){if(Array.isArray(t))for(let[n,o]of t.entries())Ae(e,ke(i,n.toString()),o);else t instanceof Date?e.push([i,t.toISOString()]):typeof t=="boolean"?e.push([i,t?"1":"0"]):typeof t=="string"?e.push([i,t]):typeof t=="number"?e.push([i,`${t}`]):t==null?e.push([i,""]):Fe(t,i,e)}function En(e){var i,t;let n=(i=e?.form)!=null?i:e.closest("form");if(n){for(let o of n.elements)if(o!==e&&(o.tagName==="INPUT"&&o.type==="submit"||o.tagName==="BUTTON"&&o.type==="submit"||o.nodeName==="INPUT"&&o.type==="image")){o.click();return}(t=n.requestSubmit)==null||t.call(n)}}let Ot=d.createContext(null);function It({children:e}){let i=d.useContext(Ot);if(!i)return I.createElement(I.Fragment,null,e);let{target:t}=i;return t?J.createPortal(I.createElement(I.Fragment,null,e),t):null}function yt({data:e,form:i,disabled:t,onReset:n,overrides:o}){let[r,l]=d.useState(null),s=Me();return d.useEffect(()=>{if(n&&r)return s.addEventListener(r,"reset",n)},[r,i,n]),I.createElement(It,null,I.createElement(Ct,{setForm:l,formId:i}),Fe(e).map(([a,c])=>I.createElement(_e,{features:De.Hidden,...Ke({key:a,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:i,disabled:t,name:a,value:c,...o})})))}function Ct({setForm:e,formId:i}){return d.useEffect(()=>{if(i){let t=document.getElementById(i);t&&e(t)}},[e,i]),i?null:I.createElement(_e,{features:De.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:t=>{if(!t)return;let n=t.closest("form");n&&e(n)}})}function ee(e,i,t){let n=t.initialDeps??[],o;return()=>{var r,l,s,a;let c;t.key&&((r=t.debug)!=null&&r.call(t))&&(c=Date.now());const f=e();if(!(f.length!==n.length||f.some((u,O)=>n[O]!==u)))return o;n=f;let E;if(t.key&&((l=t.debug)!=null&&l.call(t))&&(E=Date.now()),o=i(...f),t.key&&((s=t.debug)!=null&&s.call(t))){const u=Math.round((Date.now()-c)*100)/100,O=Math.round((Date.now()-E)*100)/100,S=O/16,h=(C,A)=>{for(C=String(C);C.length<A;)C=" "+C;return C};console.info(`%câ± ${h(O,5)} /${h(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*S,120))}deg 100% 31%);`,t?.key)}return(a=t?.onChange)==null||a.call(t,o),o}}function fe(e,i){if(e===void 0)throw new Error("Unexpected undefined");return e}const Tt=(e,i)=>Math.abs(e-i)<1,Rt=(e,i,t)=>{let n;return function(...o){e.clearTimeout(n),n=e.setTimeout(()=>i.apply(this,o),t)}},wt=e=>e,Mt=e=>{const i=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let o=i;o<=t;o++)n.push(o);return n},$t=(e,i)=>{const t=e.scrollElement;if(!t)return;const n=e.targetWindow;if(!n)return;const o=l=>{const{width:s,height:a}=l;i({width:Math.round(s),height:Math.round(a)})};if(o(t.getBoundingClientRect()),!n.ResizeObserver)return()=>{};const r=new n.ResizeObserver(l=>{const s=l[0];if(s?.borderBoxSize){const a=s.borderBoxSize[0];if(a){o({width:a.inlineSize,height:a.blockSize});return}}o(t.getBoundingClientRect())});return r.observe(t,{box:"border-box"}),()=>{r.unobserve(t)}},Re={passive:!0},Pt=typeof window>"u"?!0:"onscrollend"in window,zt=(e,i)=>{const t=e.scrollElement;if(!t)return;const n=e.targetWindow;if(!n)return;let o=0;const r=e.options.useScrollendEvent&&Pt?()=>{}:Rt(n,()=>{i(o,!1)},e.options.isScrollingResetDelay),l=c=>()=>{const{horizontal:f,isRtl:v}=e.options;o=f?t.scrollLeft*(v&&-1||1):t.scrollTop,r(),i(o,c)},s=l(!0),a=l(!1);return a(),t.addEventListener("scroll",s,Re),t.addEventListener("scrollend",a,Re),()=>{t.removeEventListener("scroll",s),t.removeEventListener("scrollend",a)}},_t=(e,i,t)=>{if(i?.borderBoxSize){const n=i.borderBoxSize[0];if(n)return Math.round(n[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},Dt=(e,{adjustments:i=0,behavior:t},n)=>{var o,r;const l=e+i;(r=(o=n.scrollElement)==null?void 0:o.scrollTo)==null||r.call(o,{[n.options.horizontal?"left":"top"]:l,behavior:t})};class Ft{constructor(i){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const n=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(o=>{o.forEach(r=>{this._measureElement(r.target,r)})}));return{disconnect:()=>{var o;(o=n())==null||o.disconnect(),t=null},observe:o=>{var r;return(r=n())==null?void 0:r.observe(o,{box:"border-box"})},unobserve:o=>{var r;return(r=n())==null?void 0:r.unobserve(o)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([n,o])=>{typeof o>"u"&&delete t[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:wt,rangeExtractor:Mt,onChange:()=>{},measureElement:_t,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...t}},this.notify=t=>{var n,o;(o=(n=this.options).onChange)==null||o.call(n,this,t)},this.maybeNotify=ee(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,r)=>{this.scrollAdjustments=0,this.scrollDirection=r?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=r,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,n)=>{const o=new Map,r=new Map;for(let l=n-1;l>=0;l--){const s=t[l];if(o.has(s.lane))continue;const a=r.get(s.lane);if(a==null||s.end>a.end?r.set(s.lane,s):s.end<a.end&&o.set(s.lane,!0),o.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort((l,s)=>l.end===s.end?l.index-s.index:l.end-s.end)[0]:void 0},this.getMeasurementOptions=ee(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,n,o,r,l)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:n,scrollMargin:o,getItemKey:r,enabled:l}),{key:!1}),this.getMeasurements=ee(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:n,scrollMargin:o,getItemKey:r,enabled:l},s)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,a);for(let f=a;f<t;f++){const v=r(f),E=this.options.lanes===1?c[f-1]:this.getFurthestMeasurement(c,f),u=E?E.end+this.options.gap:n+o,O=s.get(v),S=typeof O=="number"?O:this.options.estimateSize(f),h=u+S,C=E?E.lane:f%this.options.lanes;c[f]={index:f,start:u,size:S,end:h,key:v,lane:C}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ee(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(t,n,o)=>this.range=t.length>0&&n>0?kt({measurements:t,outerSize:n,scrollOffset:o}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=ee(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,n,o,r)=>n===null?[]:t({startIndex:n.startIndex,endIndex:n.endIndex,overscan:o,count:r}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const n=this.options.indexAttribute,o=t.getAttribute(n);return o?parseInt(o,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(t,n)=>{const o=this.indexFromElement(t),r=this.measurementsCache[o];if(!r)return;const l=r.key,s=this.elementsCache.get(l);s!==t&&(s&&this.observer.unobserve(s),this.observer.observe(t),this.elementsCache.set(l,t)),t.isConnected&&this.resizeItem(o,this.options.measureElement(t,n,this))},this.resizeItem=(t,n)=>{const o=this.measurementsCache[t];if(!o)return;const r=this.itemSizeCache.get(o.key)??o.size,l=n-r;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,l,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,n)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((n,o)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(o))});return}this._measureElement(t,void 0)},this.getVirtualItems=ee(()=>[this.getIndexes(),this.getMeasurements()],(t,n)=>{const o=[];for(let r=0,l=t.length;r<l;r++){const s=t[r],a=n[s];o.push(a)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const n=this.getMeasurements();if(n.length!==0)return fe(n[Be(0,n.length-1,o=>fe(n[o]).start,t)])},this.getOffsetForAlignment=(t,n)=>{const o=this.getSize(),r=this.getScrollOffset();n==="auto"&&t>=r+o&&(n="end"),n==="end"&&(t-=o);const l=this.options.horizontal?"scrollWidth":"scrollHeight",a=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[l]:this.scrollElement[l]:0)-o;return Math.max(Math.min(a,t),0)},this.getOffsetForIndex=(t,n="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const o=this.measurementsCache[t];if(!o)return;const r=this.getSize(),l=this.getScrollOffset();if(n==="auto")if(o.end>=l+r-this.options.scrollPaddingEnd)n="end";else if(o.start<=l+this.options.scrollPaddingStart)n="start";else return[l,n];const s=o.start-this.options.scrollPaddingStart+(o.size-r)/2;switch(n){case"center":return[this.getOffsetForAlignment(s,n),n];case"end":return[this.getOffsetForAlignment(o.end+this.options.scrollPaddingEnd,n),n];default:return[this.getOffsetForAlignment(o.start-this.options.scrollPaddingStart,n),n]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:n="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,n),{adjustments:void 0,behavior:o})},this.scrollToIndex=(t,{align:n="auto",behavior:o}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const r=this.getOffsetForIndex(t,n);if(!r)return;const[l,s]=r;this._scrollToOffset(l,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(t))){const[c]=fe(this.getOffsetForIndex(t,s));Tt(c,this.getScrollOffset())||this.scrollToIndex(t,{align:s,behavior:o})}else this.scrollToIndex(t,{align:s,behavior:o})}))},this.scrollBy=(t,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var t;const n=this.getMeasurements();let o;return n.length===0?o=this.options.paddingStart:o=this.options.lanes===1?((t=n[n.length-1])==null?void 0:t.end)??0:Math.max(...n.slice(-this.options.lanes).map(r=>r.end)),Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:n,behavior:o})=>{this.options.scrollToFn(t,{behavior:o,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(i)}}const Be=(e,i,t,n)=>{for(;e<=i;){const o=(e+i)/2|0,r=t(o);if(r<n)e=o+1;else if(r>n)i=o-1;else return o}return e>0?e-1:0};function kt({measurements:e,outerSize:i,scrollOffset:t}){const n=e.length-1,r=Be(0,n,s=>e[s].start,t);let l=r;for(;l<n&&e[l].end<t+i;)l++;return{startIndex:r,endIndex:l}}const we=typeof document<"u"?d.useLayoutEffect:d.useEffect;function At(e){const i=d.useReducer(()=>({}),{})[1],t={...e,onChange:(o,r)=>{var l;r?J.flushSync(i):i(),(l=e.onChange)==null||l.call(e,o,r)}},[n]=d.useState(()=>new Ft(t));return n.setOptions(t),we(()=>n._didMount(),[]),we(()=>n._willUpdate()),n}function Bt(e){return At({observeElementRect:$t,observeElementOffset:zt,scrollToFn:Dt,...e})}function Lt(e,i){return e!==null&&i!==null&&typeof e=="object"&&typeof i=="object"&&"id"in e&&"id"in i?e.id===i.id:e===i}function Nt(e=Lt){return d.useCallback((i,t)=>{if(typeof e=="string"){let n=e;return i?.[n]===t?.[n]}return e(i,t)},[e])}function Le(e){let i=d.useRef({value:"",selectionStart:null,selectionEnd:null});return xt(e,"blur",t=>{let n=t.target;n instanceof HTMLInputElement&&(i.current={value:n.value,selectionStart:n.selectionStart,selectionEnd:n.selectionEnd})}),x(()=>{if(document.activeElement!==e&&e instanceof HTMLInputElement&&e.isConnected){if(e.focus({preventScroll:!0}),e.value!==i.current.value)e.setSelectionRange(e.value.length,e.value.length);else{let{selectionStart:t,selectionEnd:n}=i.current;t!==null&&n!==null&&e.setSelectionRange(t,n)}i.current={value:"",selectionStart:null,selectionEnd:null}}})}function jt({children:e,freeze:i}){let t=me(i,e);return I.createElement(I.Fragment,null,t)}function me(e,i){let[t,n]=d.useState(i);return!e&&t!==i&&n(i),e?t:i}var ve=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(ve||{}),Vt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Vt||{}),Ut=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ut||{}),Ht=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(Ht||{}),Kt=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.SetTyping=3]="SetTyping",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e[e.SetActivationTrigger=6]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=7]="UpdateVirtualConfiguration",e[e.SetInputElement=8]="SetInputElement",e[e.SetButtonElement=9]="SetButtonElement",e[e.SetOptionsElement=10]="SetOptionsElement",e))(Kt||{});function pe(e,i=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=i(e.options.slice()),o=n.length>0&&n[0].dataRef.current.order!==null?n.sort((l,s)=>l.dataRef.current.order-s.dataRef.current.order):gt(n,l=>l.dataRef.current.domRef.current),r=t?o.indexOf(t):null;return r===-1&&(r=null),{options:o,activeOptionIndex:r}}let Wt={1(e){var i;return(i=e.dataRef.current)!=null&&i.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},0(e){var i,t;if((i=e.dataRef.current)!=null&&i.disabled||e.comboboxState===0)return e;if((t=e.dataRef.current)!=null&&t.value){let n=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(n!==-1)return{...e,activeOptionIndex:n,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},3(e,i){return e.isTyping===i.isTyping?e:{...e,isTyping:i.isTyping}},2(e,i){var t,n,o,r;if((t=e.dataRef.current)!=null&&t.disabled||e.optionsElement&&!((n=e.dataRef.current)!=null&&n.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:c,disabled:f}=e.virtual,v=i.focus===$.Specific?i.idx:Ie(i,{resolveItems:()=>c,resolveActiveIndex:()=>{var u,O;return(O=(u=e.activeOptionIndex)!=null?u:c.findIndex(S=>!f(S)))!=null?O:null},resolveDisabled:f,resolveId(){throw new Error("Function not implemented.")}}),E=(o=i.trigger)!=null?o:2;return e.activeOptionIndex===v&&e.activationTrigger===E?e:{...e,activeOptionIndex:v,activationTrigger:E,isTyping:!1,__demoMode:!1}}let l=pe(e);if(l.activeOptionIndex===null){let c=l.options.findIndex(f=>!f.dataRef.current.disabled);c!==-1&&(l.activeOptionIndex=c)}let s=i.focus===$.Specific?i.idx:Ie(i,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled}),a=(r=i.trigger)!=null?r:2;return e.activeOptionIndex===s&&e.activationTrigger===a?e:{...e,...l,isTyping:!1,activeOptionIndex:s,activationTrigger:a,__demoMode:!1}},4:(e,i)=>{var t,n,o;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:[...e.options,i.payload]};let r=i.payload,l=pe(e,a=>(a.push(r),a));e.activeOptionIndex===null&&(n=e.dataRef.current)!=null&&n.isSelected(i.payload.dataRef.current.value)&&(l.activeOptionIndex=l.options.indexOf(r));let s={...e,...l,activationTrigger:2};return(o=e.dataRef.current)!=null&&o.__demoMode&&e.dataRef.current.value===void 0&&(s.activeOptionIndex=0),s},5:(e,i)=>{var t;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:e.options.filter(o=>o.id!==i.id)};let n=pe(e,o=>{let r=o.findIndex(l=>l.id===i.id);return r!==-1&&o.splice(r,1),o});return{...e,...n,activationTrigger:2}},6:(e,i)=>e.activationTrigger===i.trigger?e:{...e,activationTrigger:i.trigger},7:(e,i)=>{var t,n;if(e.virtual===null)return{...e,virtual:{options:i.options,disabled:(t=i.disabled)!=null?t:()=>!1}};if(e.virtual.options===i.options&&e.virtual.disabled===i.disabled)return e;let o=e.activeOptionIndex;if(e.activeOptionIndex!==null){let r=i.options.indexOf(e.virtual.options[e.activeOptionIndex]);r!==-1?o=r:o=null}return{...e,activeOptionIndex:o,virtual:{options:i.options,disabled:(n=i.disabled)!=null?n:()=>!1}}},8:(e,i)=>e.inputElement===i.element?e:{...e,inputElement:i.element},9:(e,i)=>e.buttonElement===i.element?e:{...e,buttonElement:i.element},10:(e,i)=>e.optionsElement===i.element?e:{...e,optionsElement:i.element}},ge=d.createContext(null);ge.displayName="ComboboxActionsContext";function ae(e){let i=d.useContext(ge);if(i===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ae),t}return i}let Ne=d.createContext(null);function Gt(e){let i=ne("VirtualProvider"),{options:t}=i.virtual,[n,o]=d.useMemo(()=>{let c=i.optionsElement;if(!c)return[0,0];let f=window.getComputedStyle(c);return[parseFloat(f.paddingBlockStart||f.paddingTop),parseFloat(f.paddingBlockEnd||f.paddingBottom)]},[i.optionsElement]),r=Bt({enabled:t.length!==0,scrollPaddingStart:n,scrollPaddingEnd:o,count:t.length,estimateSize(){return 40},getScrollElement(){return i.optionsElement},overscan:12}),[l,s]=d.useState(0);Q(()=>{s(c=>c+1)},[t]);let a=r.getVirtualItems();return a.length===0?null:I.createElement(Ne.Provider,{value:r},I.createElement("div",{style:{position:"relative",width:"100%",height:`${r.getTotalSize()}px`},ref:c=>{c&&i.activationTrigger!==0&&i.activeOptionIndex!==null&&t.length>i.activeOptionIndex&&r.scrollToIndex(i.activeOptionIndex)}},a.map(c=>{var f;return I.createElement(d.Fragment,{key:c.key},I.cloneElement((f=e.children)==null?void 0:f.call(e,{...e.slot,option:t[c.index]}),{key:`${l}-${c.key}`,"data-index":c.index,"aria-setsize":t.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let se=d.createContext(null);se.displayName="ComboboxDataContext";function ne(e){let i=d.useContext(se);if(i===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ne),t}return i}function qt(e,i){return te(i.type,Wt,e,i)}let Jt=d.Fragment;function Qt(e,i){var t,n;let o=mt(),{value:r,defaultValue:l,onChange:s,form:a,name:c,by:f,disabled:v=o||!1,onClose:E,__demoMode:u=!1,multiple:O=!1,immediate:S=!1,virtual:h=null,nullable:C,...A}=e,z=St(l),[w=O?[]:void 0,_]=Et(r,s,z),[T,g]=d.useReducer(qt,{dataRef:d.createRef(),comboboxState:u?0:1,isTyping:!1,options:[],virtual:h?{options:h.options,disabled:(t=h.disabled)!=null?t:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:u}),D=d.useRef(!1),H=d.useRef({static:!1,hold:!1}),L=Nt(f),K=x(m=>h?f===null?h.options.indexOf(m):h.options.findIndex(y=>L(y,m)):T.options.findIndex(y=>L(y.dataRef.current.value,m))),G=d.useCallback(m=>te(b.mode,{1:()=>w.some(y=>L(y,m)),0:()=>L(w,m)}),[w]),W=x(m=>T.activeOptionIndex===K(m)),b=d.useMemo(()=>({...T,immediate:S,optionsPropsRef:H,value:w,defaultValue:z,disabled:v,mode:O?1:0,virtual:h?T.virtual:null,get activeOptionIndex(){if(D.current&&T.activeOptionIndex===null&&(h?h.options.length>0:T.options.length>0)){if(h){let y=h.options.findIndex(U=>{var ue,xe;return!((xe=(ue=h.disabled)==null?void 0:ue.call(h,U))!=null&&xe)});if(y!==-1)return y}let m=T.options.findIndex(y=>!y.dataRef.current.disabled);if(m!==-1)return m}return T.activeOptionIndex},calculateIndex:K,compare:L,isSelected:G,isActive:W}),[w,z,v,O,u,T,h]);Q(()=>{var m;h&&g({type:7,options:h.options,disabled:(m=h.disabled)!=null?m:null})},[h,h?.options,h?.disabled]),Q(()=>{T.dataRef.current=b},[b]);let R=b.comboboxState===0;ht(R,[b.buttonElement,b.inputElement,b.optionsElement],()=>k.closeCombobox());let V=d.useMemo(()=>{var m,y,U;return{open:b.comboboxState===0,disabled:v,activeIndex:b.activeOptionIndex,activeOption:b.activeOptionIndex===null?null:b.virtual?b.virtual.options[(m=b.activeOptionIndex)!=null?m:0]:(U=(y=b.options[b.activeOptionIndex])==null?void 0:y.dataRef.current.value)!=null?U:null,value:w}},[b,v,w]),q=x(()=>{if(b.activeOptionIndex!==null){if(k.setIsTyping(!1),b.virtual)p(b.virtual.options[b.activeOptionIndex]);else{let{dataRef:m}=b.options[b.activeOptionIndex];p(m.current.value)}k.goToOption($.Specific,b.activeOptionIndex)}}),X=x(()=>{g({type:0}),D.current=!0}),Z=x(()=>{g({type:1}),D.current=!1,E?.()}),oe=x(m=>{g({type:3,isTyping:m})}),ie=x((m,y,U)=>(D.current=!1,m===$.Specific?g({type:2,focus:$.Specific,idx:y,trigger:U}):g({type:2,focus:m,trigger:U}))),F=x((m,y)=>(g({type:4,payload:{id:m,dataRef:y}}),()=>{b.isActive(y.current.value)&&(D.current=!0),g({type:5,id:m})})),p=x(m=>te(b.mode,{0(){return _?.(m)},1(){let y=b.value.slice(),U=y.findIndex(ue=>L(ue,m));return U===-1?y.push(m):y.splice(U,1),_?.(y)}})),N=x(m=>{g({type:6,trigger:m})}),P=x(m=>{g({type:8,element:m})}),j=x(m=>{g({type:9,element:m})}),M=x(m=>{g({type:10,element:m})}),k=d.useMemo(()=>({onChange:p,registerOption:F,goToOption:ie,setIsTyping:oe,closeCombobox:Z,openCombobox:X,setActivationTrigger:N,selectActiveOption:q,setInputElement:P,setButtonElement:j,setOptionsElement:M}),[]),[Y,je]=bt(),Ve=i===null?{}:{ref:i},Ue=d.useCallback(()=>{if(z!==void 0)return _?.(z)},[_,z]),He=re();return I.createElement(je,{value:Y,props:{htmlFor:(n=b.inputElement)==null?void 0:n.id},slot:{open:b.comboboxState===0,disabled:v}},I.createElement(vt,null,I.createElement(ge.Provider,{value:k},I.createElement(se.Provider,{value:b},I.createElement(Qe,{value:te(b.comboboxState,{0:ce.Open,1:ce.Closed})},c!=null&&I.createElement(yt,{disabled:v,data:w!=null?{[c]:w}:{},form:a,onReset:Ue}),He({ourProps:Ve,theirProps:A,slot:V,defaultTag:Jt,name:"Combobox"}))))))}let Xt="input";function Yt(e,i){var t,n,o,r,l;let s=ne("Combobox.Input"),a=ae("Combobox.Input"),c=d.useId(),f=tt(),{id:v=f||`headlessui-combobox-input-${c}`,onChange:E,displayValue:u,disabled:O=s.disabled||!1,autoFocus:S=!1,type:h="text",...C}=e,A=d.useRef(null),z=de(A,i,nt(),a.setInputElement),w=ze(s.inputElement),_=Me(),T=x(()=>{a.onChange(null),s.optionsElement&&(s.optionsElement.scrollTop=0),a.goToOption($.Nothing)}),g=d.useMemo(()=>{var p;return typeof u=="function"&&s.value!==void 0?(p=u(s.value))!=null?p:"":typeof s.value=="string"?s.value:""},[s.value,u]);ye(([p,N],[P,j])=>{if(s.isTyping)return;let M=A.current;M&&((j===0&&N===1||p!==P)&&(M.value=p),requestAnimationFrame(()=>{if(s.isTyping||!M||w?.activeElement!==M)return;let{selectionStart:k,selectionEnd:Y}=M;Math.abs((Y??0)-(k??0))===0&&k===0&&M.setSelectionRange(M.value.length,M.value.length)}))},[g,s.comboboxState,w,s.isTyping]),ye(([p],[N])=>{if(p===0&&N===1){if(s.isTyping)return;let P=A.current;if(!P)return;let j=P.value,{selectionStart:M,selectionEnd:k,selectionDirection:Y}=P;P.value="",P.value=j,Y!==null?P.setSelectionRange(M,k,Y):P.setSelectionRange(M,k)}},[s.comboboxState]);let D=d.useRef(!1),H=x(()=>{D.current=!0}),L=x(()=>{_.nextFrame(()=>{D.current=!1})}),K=x(p=>{switch(a.setIsTyping(!0),p.key){case B.Enter:if(s.comboboxState!==0||D.current)return;if(p.preventDefault(),p.stopPropagation(),s.activeOptionIndex===null){a.closeCombobox();return}a.selectActiveOption(),s.mode===0&&a.closeCombobox();break;case B.ArrowDown:return p.preventDefault(),p.stopPropagation(),te(s.comboboxState,{0:()=>a.goToOption($.Next),1:()=>a.openCombobox()});case B.ArrowUp:return p.preventDefault(),p.stopPropagation(),te(s.comboboxState,{0:()=>a.goToOption($.Previous),1:()=>{J.flushSync(()=>a.openCombobox()),s.value||a.goToOption($.Last)}});case B.Home:if(p.shiftKey)break;return p.preventDefault(),p.stopPropagation(),a.goToOption($.First);case B.PageUp:return p.preventDefault(),p.stopPropagation(),a.goToOption($.First);case B.End:if(p.shiftKey)break;return p.preventDefault(),p.stopPropagation(),a.goToOption($.Last);case B.PageDown:return p.preventDefault(),p.stopPropagation(),a.goToOption($.Last);case B.Escape:return s.comboboxState!==0?void 0:(p.preventDefault(),s.optionsElement&&!s.optionsPropsRef.current.static&&p.stopPropagation(),s.mode===0&&s.value===null&&T(),a.closeCombobox());case B.Tab:if(s.comboboxState!==0)return;s.mode===0&&s.activationTrigger!==1&&a.selectActiveOption(),a.closeCombobox();break}}),G=x(p=>{E?.(p),s.mode===0&&p.target.value===""&&T(),a.openCombobox()}),W=x(p=>{var N,P,j;let M=(N=p.relatedTarget)!=null?N:Ce.find(k=>k!==p.currentTarget);if(!((P=s.optionsElement)!=null&&P.contains(M))&&!((j=s.buttonElement)!=null&&j.contains(M))&&s.comboboxState===0)return p.preventDefault(),s.mode===0&&s.value===null&&T(),a.closeCombobox()}),b=x(p=>{var N,P,j;let M=(N=p.relatedTarget)!=null?N:Ce.find(k=>k!==p.currentTarget);(P=s.buttonElement)!=null&&P.contains(M)||(j=s.optionsElement)!=null&&j.contains(M)||s.disabled||s.immediate&&s.comboboxState!==0&&_.microTask(()=>{J.flushSync(()=>a.openCombobox()),a.setActivationTrigger(1)})}),R=be(),V=ot(),{isFocused:q,focusProps:X}=$e({autoFocus:S}),{isHovered:Z,hoverProps:oe}=Pe({isDisabled:O}),ie=d.useMemo(()=>({open:s.comboboxState===0,disabled:O,hover:Z,focus:q,autofocus:S}),[s,Z,q,S,O]),F=he({ref:z,id:v,role:"combobox",type:h,"aria-controls":(t=s.optionsElement)==null?void 0:t.id,"aria-expanded":s.comboboxState===0,"aria-activedescendant":s.activeOptionIndex===null?void 0:s.virtual?(n=s.options.find(p=>!p.dataRef.current.disabled&&s.compare(p.dataRef.current.value,s.virtual.options[s.activeOptionIndex])))==null?void 0:n.id:(o=s.options[s.activeOptionIndex])==null?void 0:o.id,"aria-labelledby":R,"aria-describedby":V,"aria-autocomplete":"list",defaultValue:(l=(r=e.defaultValue)!=null?r:s.defaultValue!==void 0?u?.(s.defaultValue):null)!=null?l:s.defaultValue,disabled:O||void 0,autoFocus:S,onCompositionStart:H,onCompositionEnd:L,onKeyDown:K,onChange:G,onFocus:b,onBlur:W},X,oe);return re()({ourProps:F,theirProps:C,slot:ie,defaultTag:Xt,name:"Combobox.Input"})}let Zt="button";function en(e,i){var t;let n=ne("Combobox.Button"),o=ae("Combobox.Button"),r=de(i,o.setButtonElement),l=d.useId(),{id:s=`headlessui-combobox-button-${l}`,disabled:a=n.disabled||!1,autoFocus:c=!1,...f}=e,v=Le(n.inputElement),E=x(g=>{switch(g.key){case B.Space:case B.Enter:g.preventDefault(),g.stopPropagation(),n.comboboxState===1&&J.flushSync(()=>o.openCombobox()),v();return;case B.ArrowDown:g.preventDefault(),g.stopPropagation(),n.comboboxState===1&&(J.flushSync(()=>o.openCombobox()),n.value||o.goToOption($.First)),v();return;case B.ArrowUp:g.preventDefault(),g.stopPropagation(),n.comboboxState===1&&(J.flushSync(()=>o.openCombobox()),n.value||o.goToOption($.Last)),v();return;case B.Escape:if(n.comboboxState!==0)return;g.preventDefault(),n.optionsElement&&!n.optionsPropsRef.current.static&&g.stopPropagation(),J.flushSync(()=>o.closeCombobox()),v();return;default:return}}),u=x(g=>{g.preventDefault(),!Xe(g.currentTarget)&&(g.button===ve.Left&&(n.comboboxState===0?o.closeCombobox():o.openCombobox()),v())}),O=be([s]),{isFocusVisible:S,focusProps:h}=$e({autoFocus:c}),{isHovered:C,hoverProps:A}=Pe({isDisabled:a}),{pressed:z,pressProps:w}=Ye({disabled:a}),_=d.useMemo(()=>({open:n.comboboxState===0,active:z||n.comboboxState===0,disabled:a,value:n.value,hover:C,focus:S}),[n,C,S,z,a]),T=he({ref:r,id:s,type:Ze(e,n.buttonElement),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(t=n.optionsElement)==null?void 0:t.id,"aria-expanded":n.comboboxState===0,"aria-labelledby":O,disabled:a||void 0,autoFocus:c,onMouseDown:u,onKeyDown:E},h,A,w);return re()({ourProps:T,theirProps:f,slot:_,defaultTag:Zt,name:"Combobox.Button"})}let tn="div",nn=Se.RenderStrategy|Se.Static;function on(e,i){var t,n,o;let r=d.useId(),{id:l=`headlessui-combobox-options-${r}`,hold:s=!1,anchor:a,portal:c=!1,modal:f=!0,transition:v=!1,...E}=e,u=ne("Combobox.Options"),O=ae("Combobox.Options"),S=it(a);S&&(c=!0);let[h,C]=st(S),[A,z]=d.useState(null),w=lt(),_=de(i,S?h:null,O.setOptionsElement,z),T=ze(u.optionsElement),g=We(),[D,H]=Ge(v,A,g!==null?(g&ce.Open)===ce.Open:u.comboboxState===0);rt(D,u.inputElement,O.closeCombobox);let L=u.__demoMode?!1:f&&u.comboboxState===0;at(L,T);let K=u.__demoMode?!1:f&&u.comboboxState===0;ut(K,{allowed:d.useCallback(()=>[u.inputElement,u.buttonElement,u.optionsElement],[u.inputElement,u.buttonElement,u.optionsElement])}),Q(()=>{var F;u.optionsPropsRef.current.static=(F=e.static)!=null?F:!1},[u.optionsPropsRef,e.static]),Q(()=>{u.optionsPropsRef.current.hold=s},[u.optionsPropsRef,s]),ct(u.comboboxState===0,{container:u.optionsElement,accept(F){return F.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:F.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(F){F.setAttribute("role","none")}});let G=be([(t=u.buttonElement)==null?void 0:t.id]),W=d.useMemo(()=>({open:u.comboboxState===0,option:void 0}),[u.comboboxState]),b=x(()=>{O.setActivationTrigger(0)}),R=x(F=>{F.preventDefault(),O.setActivationTrigger(0)}),V=he(S?w():{},{"aria-labelledby":G,role:"listbox","aria-multiselectable":u.mode===1?!0:void 0,id:l,ref:_,style:{...E.style,...C,"--input-width":Oe(u.inputElement,!0).width,"--button-width":Oe(u.buttonElement,!0).width},onWheel:u.activationTrigger===0?void 0:b,onMouseDown:R,...qe(H)}),q=D&&u.comboboxState===1,X=me(q,(n=u.virtual)==null?void 0:n.options),Z=me(q,u.value),oe=x(F=>u.compare(Z,F));if(u.virtual){if(X===void 0)throw new Error("Missing `options` in virtual mode");Object.assign(E,{children:I.createElement(se.Provider,{value:X!==u.virtual.options?{...u,virtual:{...u.virtual,options:X}}:u},I.createElement(Gt,{slot:W},E.children))})}let ie=re();return I.createElement(dt,{enabled:c?e.static||D:!1},I.createElement(se.Provider,{value:u.mode===1?u:{...u,isSelected:oe}},ie({ourProps:V,theirProps:{...E,children:I.createElement(jt,{freeze:q},typeof E.children=="function"?(o=E.children)==null?void 0:o.call(E,W):E.children)},slot:W,defaultTag:tn,features:nn,visible:D,name:"Combobox.Options"})))}let sn="div";function ln(e,i){var t,n,o,r;let l=ne("Combobox.Option"),s=ae("Combobox.Option"),a=d.useId(),{id:c=`headlessui-combobox-option-${a}`,value:f,disabled:v=(o=(n=(t=l.virtual)==null?void 0:t.disabled)==null?void 0:n.call(t,f))!=null?o:!1,order:E=null,...u}=e,O=Le(l.inputElement),S=l.virtual?l.activeOptionIndex===l.calculateIndex(f):l.activeOptionIndex===null?!1:((r=l.options[l.activeOptionIndex])==null?void 0:r.id)===c,h=l.isSelected(f),C=d.useRef(null),A=Je({disabled:v,value:f,domRef:C,order:E}),z=d.useContext(Ne),w=de(i,C,z?z.measureElement:null),_=x(()=>{s.setIsTyping(!1),s.onChange(f)});Q(()=>s.registerOption(c,A),[A,c]);let T=d.useRef(!(l.virtual||l.__demoMode));Q(()=>{if(!l.virtual&&!l.__demoMode)return Ee().requestAnimationFrame(()=>{T.current=!0})},[l.virtual,l.__demoMode]),Q(()=>{if(T.current&&l.comboboxState===0&&S&&l.activationTrigger!==0)return Ee().requestAnimationFrame(()=>{var R,V;(V=(R=C.current)==null?void 0:R.scrollIntoView)==null||V.call(R,{block:"nearest"})})},[C,S,l.comboboxState,l.activationTrigger,l.activeOptionIndex]);let g=x(R=>{R.preventDefault(),R.button===ve.Left&&(v||(_(),ft()||requestAnimationFrame(()=>O()),l.mode===0&&s.closeCombobox()))}),D=x(()=>{if(v)return s.goToOption($.Nothing);let R=l.calculateIndex(f);s.goToOption($.Specific,R)}),H=pt(),L=x(R=>H.update(R)),K=x(R=>{if(!H.wasMoved(R)||v||S)return;let V=l.calculateIndex(f);s.goToOption($.Specific,V,0)}),G=x(R=>{H.wasMoved(R)&&(v||S&&(l.optionsPropsRef.current.hold||s.goToOption($.Nothing)))}),W=d.useMemo(()=>({active:S,focus:S,selected:h,disabled:v}),[S,h,v]),b={id:c,ref:w,role:"option",tabIndex:v===!0?void 0:-1,"aria-disabled":v===!0?!0:void 0,"aria-selected":h,disabled:void 0,onMouseDown:g,onFocus:D,onPointerEnter:L,onMouseEnter:L,onPointerMove:K,onMouseMove:K,onPointerLeave:G,onMouseLeave:G};return re()({ourProps:b,theirProps:u,slot:W,defaultTag:sn,name:"Combobox.Option"})}let rn=le(Qt),an=le(en),un=le(Yt),cn=et,dn=le(on),fn=le(ln),Sn=Object.assign(rn,{Input:un,Button:an,Label:cn,Options:dn,Option:fn});const pn=(e,i)=>Te.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",ref:i,...e,children:Te.jsx("path",{fill:"currentColor",d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})}),On=d.forwardRef(pn);export{On as F,un as G,Sn as H,dn as K,Et as T,an as U,St as a,fn as b,yt as j,me as l,En as p,Nt as u};
