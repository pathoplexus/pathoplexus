preprocessingTimeout: 600
getSubmissionListLimitSeconds: 3600
robotsNoindexHeader: true
registrationTermsMessage: >
  Do you agree to the <a href="https://pathoplexus.org/about/terms-of-use/terms-of-service">terms of use</a> and the <a href="https://pathoplexus.org/about/terms-of-use/privacy-policy">privacy policy</a>?
runDevelopmentMainDatabase: true
bannerMessage: This is a preview instance. Do not rely on this data for real analyses.
gitHubEditLink: https://github.com/pathoplexus/pathoplexus/edit/main/monorepo/website/
gitHubMainUrl: https://github.com/pathoplexus/pathoplexus
runDevelopmentKeycloakDatabase: true
runDevelopmentS3: false
s3:
  enabled: false
developmentDatabasePersistence: false
dataUseTerms:
  enabled: true
  urls:
    open: https://pathoplexus.org/about/terms-of-use/open-data
    restricted: https://pathoplexus.org/about/terms-of-use/restricted-data
secrets:
  smtp-password:
    type: sealedsecret
    clusterWide: "true"
    encryptedData:
      secretKey: AgCe0WPKrnWDroWZW/jHyZ0iT0WMa/ekYLcotWrUSU//1dv3Y7+pas36aVVIj5syNF1FbxhDG05BnoGKoOWxW/TnwmKLR92IKCqMOnGy5OXG0h4dvW55UyZqmA96dVhKagb1zoQhn7Nx8QMMsnraTnTYTbaw8on4ixcVvGhxMi/C50bYuexAkgFfPDO3io7Hkg2dfi+kzMKoc4m8Xn+yAOLnGG9RZQuSsj9jyqXYjkYuzgaMBvsmkljVUpvi+Ri04Ojt7JikPoM5e2uorx3K8K6CJ0efPhi+5UijnyGJqMfb4H1NwIRy1GEVetYQLuaPDUnD1Ym/eFIXl9AyiwVPVCb4HiKuEV+oAQU2bSVPgkkl3Zr5EPynBzJCCwO7LhSOUlYXBdv4oHK5cLngN/7mdtdR1lJcBb2SoZQ1lhFDLKKXfbDiiZ/K0ear0bCtwE+pdzRiuJlHPMk61++6jYtajgHPSxyvhrsgocXgGxVYH8uI35vrS1uKkcoECpsPVC3NIHEGM4dDUPU1cSzUnrAWbTDUz+pSmvdsm+6fFY0oWIBJ16mUPkaH/g17VOqLWsmS02H1uSB8dzESLwrmF8oOM5/21zm/YqSCj4V58QeP2gmJnrmfqHvSsw+nWIAEXCM3Qd69zaABNJdp80VCDI2Yj9yYGNqrKomXxgELPIZRpdB/lSshFqD1JhoAFXPs/ZA51ffPnwuV9Fo9d+j/VBNKjE/PbM6y98aiVd1h9dschUqHmA==
  orcid:
    type: sealedsecret
    clusterWide: "true"
    encryptedData:
      orcidSecret: AgA/T6vx+JIhqCA6iCEMN65hYYXltZr66MVInYwJtD4hXWkw12CsvQdEsu2hEs1/cU7EyULb4qg92v4zWNzEV0gzbkyMqR3TMCrvqRArV7IDfKW1hyf5QMwrmj0wfxg6CivI89MW4DkKlxY2OuXzWFjQLmxH5rd2emWgbImm7VrFC7Reikopla6aN9wJR4VbBLPmi/nVYNq0EguGpeEfOgJmpGdeRTV9EdGJvLeg2roBPX/ccjBAgNNe3xDtREEMI7Vjby9jAVFr/TY0Xr6Q+BAvd+atfFaTinqo+wk+3JbcKWzqDSvIY5wr3Z0JFpoWPbPe+evGSuIlPycXl1/YDjoQ5lzrw/IMFV1p/3XHwt8TsnYGXdIu7HsUB9iburRdDaQp86zUYd4VXuju1ypkzvAxhuAA4zdqGbnQ5taxUBDN2Mvb1sx25L9RH+Nk7BUcOMlZgxtxssuBotdygzfobOU/dchOHgWYUHmL5SK1O7luqHNbJ5Tc8WkxbFk72raU0LmPyH8voutQn7d6iSOPARhCbCTx6xVYwOjITgn583tgt1+56eT63MzPsfIBxBVlI+7/v8QOpuy8/lclFgAgbhlNbw4AIZRMeWcD09RKwBc0bD5/Y5Ibp8gWpQM/vMDSqTdu7Xr0vSDAHBjISgs2EBGkZ424y7b5arE15R7LoUwmPMes/qATTIgvoX5mCiekoUVk6CuRns6Ba5XILe+wEr+xbS3AZZ+asLsiJQrTqxWcFTH9nlQ=
  custom-website-sealed-secret:
    rawType: kubernetes.io/dockerconfigjson
    type: sealedsecret
    clusterWide: "true"
    encryptedData:
      .dockerconfigjson: AgBWKhV1q88KGSfzJq6Dq7qopEjILAWmKY4Wmc3+ryvtvfVkMkx/Tvbyhj8fQ5nerkPfJE+TQVqeBMn1Vln64ZYcw44Nv4yrGLZbpBVRusp6siKvNDPBG+PRnrYYxhuWFovSyCDfjZqIGk8P2URDfrxTTlKzsEOoqEHxQoTwV08ZUlBy+Aqpm9ljjBPLga9gwYkWdjb5vG2DTPOYJ46fsLaFH4wMWdWCY1hgrBXzMV1T12RFH0SXG5+qCnexiyhx98tVt+3bt3tdJYi6AJRC0eQ/OQM0n5OV0HHch+10id5Jy8DMNm25OECwFEp3YO9Er30iLekP7ARvQTAlYwT6OxLjG1zMPtnHGwJB8NiFOsQqZFjupe4pCygdQJU4/wlEYyl3dQvxygwqMDIMx5X3e0iOleJ1JN8VHXzBbWKiy1igujA3Mob4iRC9Stz0jjKOvUSsUbpP54dsU/zyGEKLKUeqWlMuTFL/lmKy/IKZwBnd+98rrZuL6cF0mx6d7TcuVhtvNAVgTp8a8ac7vhJvGF6IZUbLS5D24agZU+RuhOeKPFTvhNgxT8WNCMu4f8gkJPbY6y8qkHcG1oLJQncCSITnXl5tBIIAGijdOf83bX4KEi9uQ2B3l8SjbyAsbZUTZrqfc/7OVJlm2rr0qO2exoIPM6Lq1/06OOtNe483e9CUoBgQTRwKN6807R6uscnrHqy+KdRlhevJCPtxcGiDc7U1MnwuNXnuEnGMbp9KbZDVuPDM9GRXw6SgO3t48im17npls1Lj6CNys26paqM4qQQ/pwX14LMoNVigFlhkSaK+M400AQaYlpV3D5LRVzD2FJzB9AO9JsPEayifUgjNl8gezoEg867c/Cpx4Xf18jzahTHzMGbs44POATM=
name: Pathoplexus
accessionPrefix: "PPD_"
additionalHeadHTML: '<script defer data-domain="pathoplexus.org" src="https://plausible.io/js/script.file-downloads.hash.outbound-links.js"></script><script>window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script><meta property="og:type" content="website" /><meta property="og:image" content="https://pathoplexus.org/images/pathoplexus-preview.png" /><meta property="og:description" content="Pathoplexus is a new, open-source database dedicated to the efficient sharing of human viral pathogen genomic data, fostering global collaboration and public health response." />'
website:
  websiteConfig:
    enableLoginNavigationItem: true
    enableSubmissionNavigationItem: true
    enableSubmissionPages: true
auth:
  smtp:
    host: "in-v3.mailjet.com"
    port: 587
    user: "fafd505de339dd2e9c3e85ad9981af8a"
    replyTo: "noreply@pathoplexus.org"
    from: "noreply@pathoplexus.org"
    envelopeFrom: "noreply@pathoplexus.org"
  verifyEmail: true
  identityProviders:
    orcid:
      clientId: "APP-P1P7N7T9YVBHQ4EH"
disableEnaSubmission: true
sequenceFlagging:
  github:
    organization: pathoplexus
    repository: curation_reports
    issueTemplate: test-sequence-metadata-issue.md
lineageSystemDefinitions:
  mpox:
    10: https://pathoplexus.github.io/silo-lineage-hierarchy-definitions/definitions/mpox/lineages.yaml
    11: https://pathoplexus.github.io/silo-lineage-hierarchy-definitions/definitions/mpox/lineages.yaml
  rsv-a:
    10: https://pathoplexus.github.io/silo-lineage-hierarchy-definitions/definitions/rsv-a/lineages.yaml
    11: https://pathoplexus.github.io/silo-lineage-hierarchy-definitions/definitions/rsv-a/lineages.yaml
  rsv-b:
    10: https://pathoplexus.github.io/silo-lineage-hierarchy-definitions/definitions/rsv-b/lineages.yaml
    11: https://pathoplexus.github.io/silo-lineage-hierarchy-definitions/definitions/rsv-b/lineages.yaml
  hmpv:
    10: https://pathoplexus.github.io/silo-lineage-hierarchy-definitions/definitions/hmpv/lineages.yaml
    11: https://pathoplexus.github.io/silo-lineage-hierarchy-definitions/definitions/hmpv/lineages.yaml
defaultOrganismConfig: &defaultOrganismConfig
  schema: &schema
    loadSequencesAutomatically: true
    richFastaHeaderFields: ["displayName"]
    organismName: "Ebola Zaire"
    image: "/images/organisms/ebolazaire_small.jpg"
    linkOuts:
      - name: "Nextclade"
        maxNumberOfRecommendedEntries: 3000 # our sequences are ~18.5KB each
        url: "https://clades.nextstrain.org/?input-fasta={{[unalignedNucleotideSequences+rich|fasta]}}&dataset-name=nextstrain/ebola/zaire&dataset-server=https://raw.githubusercontent.com/nextstrain/nextclade_data/ebola/data_output"
      - name: "Country map"
        url: "https://mapoplexus.genomium.org/?url={{[metadata]}}"
    earliestReleaseDate:
      enabled: true
      externalFields:
        - ncbiReleaseDate
    ### Field list
    ## General fields
    # name: Key used across app to refer to this field (required)
    # displayName: Name displayed to users (optional) | used by website (for input and details)
    # type: Type of field (default: "string")
    # required: Whether the field is required by backend (default false) | used by input, backend, preprocessing
    ## Input related
    # noInput: Whether the field should not be input by the user)
    # definition
    # guidance
    # example
    # ontology_id
    ## Sequence details UI related
    # header: Grouping of fields in sequence details UI (default: "Other")
    # hideOnSequenceDetailsPage: Whether the field should be hidden on the sequence details page (default false)
    # customDisplay: Custom display dict for the field
    #     type: Enum with values "link"
    #     url: URL to link to with template __value__ for the field value: "https://www.ncbi.nlm.nih.gov/nuccore/__value__"
    ## SearchUI related
    # initiallyVisible: Whether it appear in searchUI by default (default false)
    # generateIndex: Whether the field should be indexed for search (default false, only allowed for string fields)
    # autocomplete: Whether the field should be used for search autocomplete (default false, only allowed for string fields and probably generateIndex should be true)
    ## Ingest related
    # ingest: Which NCBI field to map to this field (optional)
    ## Preprocessing related
    # preprocessing: Preprocessing function to run on the field (optional: defaults to identity function on input field with same name)

    ## TODO: Allow extra metadata field by particular organisms (e.g. clade/lineage)
    metadata:
      - name: sampleCollectionDate
        displayName: Collection date
        initiallyVisible: false
        header: Sample details
        ingest: ncbiCollectionDate
        preprocessing:
          function: parse_date_into_range
          inputs:
            date: sampleCollectionDate
          args:
            fieldType: dateRangeString
        required: true
        columnWidth: 84
        notSearchable: true
        includeInDownloadsByDefault: true
        order: 10
        definition: "The date on which the sample was collected."
        guidance: "Please format YYYY-MM-DD - use XX if unknown, ex: `2020-03-XX` or `2020-XX-XX`, and provide at least year"
        example: "2020-03-15"
      - name: sampleCollectionDateRangeLower
        displayName: Collection date (lower bound)
        type: date
        initiallyVisible: true
        header: Sample details
        preprocessing:
          function: parse_date_into_range
          inputs:
            date: sampleCollectionDate
            releaseDate: ncbiReleaseDate
          args:
            fieldType: dateRangeLower
        rangeOverlapSearch:
          rangeName: sampleCollectionDateRange
          rangeDisplayName: Collection date
          bound: lower
        noInput: true
      - name: sampleCollectionDateRangeUpper
        displayName: Collection date (upper bound)
        type: date
        initiallyVisible: true
        header: Sample details
        preprocessing:
          function: parse_date_into_range
          inputs:
            date: sampleCollectionDate
            releaseDate: ncbiReleaseDate
          args:
            fieldType: dateRangeUpper
        rangeOverlapSearch:
          rangeName: sampleCollectionDateRange
          rangeDisplayName: Collection date
          bound: upper
        noInput: true
      - name: displayName
        displayName: Display name
        preprocessing:
          function: concatenate
          inputs:
            geoLocCountry: geoLocCountry
            sampleCollectionDate: sampleCollectionDate
          args:
            order: [geoLocCountry, accession_version, sampleCollectionDate]
            type: [string, string, string]
        noInput: true
      - name: ncbiReleaseDate
        displayName: NCBI release date
        type: date
        header: "INSDC"
        preprocessing:
          function: parse_timestamp
          inputs:
            timestamp: ncbiReleaseDate
        noInput: true
        columnWidth: 80
        order: 90
      - name: earliestReleaseDate
        displayName: Earliest release date
        header: Sample details
        type: date
        rangeSearch: true
        noInput: true
        includeInDownloadsByDefault: true
        columnWidth: 95
        order: 90
      - name: ncbiUpdateDate
        type: date
        displayName: NCBI update date
        header: "INSDC"
        preprocessing:
          function: parse_timestamp
          inputs:
            timestamp: ncbiUpdateDate
        noInput: true
        perSegment: true
        oneHeader: true
      - name: geoLocCountry
        displayName: Collection country
        generateIndex: true
        autocomplete: true
        initiallyVisible: true
        includeInDownloadsByDefault: true
        header: Sample details
        ingest: country
        required: true
        columnWidth: 134
        order: 20
        definition: "The country from which the sample was collected."
        guidance: "Please choose a country or ocean/sea from the list of options defined by INSDC standards."
        example: "Canada"
        options:
          # Taken from https://www.ncbi.nlm.nih.gov/genbank/collab/country/
          # Alternative, historically not always up-to-date at https://www.insdc.org/submitting-standards/geo_loc_name-qualifier-vocabulary/
          # If changed, ensure it's mirrored to Pathoplexus
          # Last check: 2024-11-01
          # Last update: 2024-09-18
          - name: Afghanistan
          - name: Albania
          - name: Algeria
          - name: American Samoa
          - name: Andorra
          - name: Angola
          - name: Anguilla
          - name: Antarctica
          - name: Antigua and Barbuda
          - name: Arctic Ocean
          - name: Argentina
          - name: Armenia
          - name: Aruba
          - name: Ashmore and Cartier Islands
          - name: Atlantic Ocean
          - name: Australia
          - name: Austria
          - name: Azerbaijan
          - name: Bahamas
          - name: Bahrain
          - name: Baltic Sea
          - name: Baker Island
          - name: Bangladesh
          - name: Barbados
          - name: Bassas da India
          - name: Belarus
          - name: Belgium
          - name: Belize
          - name: Benin
          - name: Bermuda
          - name: Bhutan
          - name: Bolivia
          - name: Borneo
          - name: Bosnia and Herzegovina
          - name: Botswana
          - name: Bouvet Island
          - name: Brazil
          - name: British Virgin Islands
          - name: Brunei
          - name: Bulgaria
          - name: Burkina Faso
          - name: Burundi
          - name: Cambodia
          - name: Cameroon
          - name: Canada
          - name: Cape Verde
          - name: Cayman Islands
          - name: Central African Republic
          - name: Chad
          - name: Chile
          - name: China
          - name: Christmas Island
          - name: Clipperton Island
          - name: Cocos Islands
          - name: Colombia
          - name: Comoros
          - name: Cook Islands
          - name: Coral Sea Islands
          - name: Costa Rica
          - name: Cote d'Ivoire
          - name: Croatia
          - name: Cuba
          - name: Curacao
          - name: Cyprus
          - name: Czechia
          - name: Democratic Republic of the Congo
          - name: Denmark
          - name: Djibouti
          - name: Dominica
          - name: Dominican Republic
          - name: Ecuador
          - name: Egypt
          - name: El Salvador
          - name: Equatorial Guinea
          - name: Eritrea
          - name: Estonia
          - name: Eswatini
          - name: Ethiopia
          - name: Europa Island
          - name: Falkland Islands (Islas Malvinas)
          - name: Faroe Islands
          - name: Fiji
          - name: Finland
          - name: France
          - name: French Guiana
          - name: French Polynesia
          - name: French Southern and Antarctic Lands
          - name: Gabon
          - name: Gambia
          - name: Gaza Strip
          - name: Georgia
          - name: Germany
          - name: Ghana
          - name: Gibraltar
          - name: Glorioso Islands
          - name: Greece
          - name: Greenland
          - name: Grenada
          - name: Guadeloupe
          - name: Guam
          - name: Guatemala
          - name: Guernsey
          - name: Guinea
          - name: Guinea-Bissau
          - name: Guyana
          - name: Haiti
          - name: Heard Island and McDonald Islands
          - name: Honduras
          - name: Hong Kong
          - name: Howland Island
          - name: Hungary
          - name: Iceland
          - name: India
          - name: Indian Ocean
          - name: Indonesia
          - name: Iran
          - name: Iraq
          - name: Ireland
          - name: Isle of Man
          - name: Israel
          - name: Italy
          - name: Jamaica
          - name: Jan Mayen
          - name: Japan
          - name: Jarvis Island
          - name: Jersey
          - name: Johnston Atoll
          - name: Jordan
          - name: Juan de Nova Island
          - name: Kazakhstan
          - name: Kenya
          - name: Kerguelen Archipelago
          - name: Kingman Reef
          - name: Kiribati
          - name: Kosovo
          - name: Kuwait
          - name: Kyrgyzstan
          - name: Laos
          - name: Latvia
          - name: Lebanon
          - name: Lesotho
          - name: Liberia
          - name: Libya
          - name: Liechtenstein
          - name: Line Islands
          - name: Lithuania
          - name: Luxembourg
          - name: Macau
          - name: Madagascar
          - name: Malawi
          - name: Malaysia
          - name: Maldives
          - name: Mali
          - name: Malta
          - name: Marshall Islands
          - name: Martinique
          - name: Mauritania
          - name: Mauritius
          - name: Mayotte
          - name: Mediterranean Sea
          - name: Mexico
          - name: Micronesia, Federated States of
          - name: Midway Islands
          - name: Moldova
          - name: Monaco
          - name: Mongolia
          - name: Montenegro
          - name: Montserrat
          - name: Morocco
          - name: Mozambique
          - name: Myanmar
          - name: Namibia
          - name: Nauru
          - name: Navassa Island
          - name: Nepal
          - name: Netherlands
          - name: New Caledonia
          - name: New Zealand
          - name: Nicaragua
          - name: Niger
          - name: Nigeria
          - name: Niue
          - name: Norfolk Island
          - name: North Korea
          - name: North Macedonia
          - name: North Sea
          - name: Northern Mariana Islands
          - name: Norway
          - name: Oman
          - name: Pacific Ocean
          - name: Pakistan
          - name: Palau
          - name: Palmyra Atoll
          - name: Panama
          - name: Papua New Guinea
          - name: Paracel Islands
          - name: Paraguay
          - name: Peru
          - name: Philippines
          - name: Pitcairn Islands
          - name: Poland
          - name: Portugal
          - name: Puerto Rico
          - name: Qatar
          - name: Republic of the Congo
          - name: Reunion
          - name: Romania
          - name: Ross Sea
          - name: Russia
          - name: Rwanda
          - name: Saint Barthelemy
          - name: Saint Helena
          - name: Saint Kitts and Nevis
          - name: Saint Lucia
          - name: Saint Martin
          - name: Saint Pierre and Miquelon
          - name: Saint Vincent and the Grenadines
          - name: Samoa
          - name: San Marino
          - name: Sao Tome and Principe
          - name: Saudi Arabia
          - name: Senegal
          - name: Serbia
          - name: Seychelles
          - name: Sierra Leone
          - name: Singapore
          - name: Sint Maarten
          - name: Slovakia
          - name: Slovenia
          - name: Solomon Islands
          - name: Somalia
          - name: South Africa
          - name: South Georgia and the South Sandwich Islands
          - name: South Korea
          - name: South Sudan
          - name: Southern Ocean
          - name: Spain
          - name: Spratly Islands
          - name: Sri Lanka
          - name: State of Palestine
          - name: Sudan
          - name: Suriname
          - name: Svalbard
          - name: Sweden
          - name: Switzerland
          - name: Syria
          - name: Taiwan
          - name: Tajikistan
          - name: Tanzania
          - name: Tasman Sea
          - name: Thailand
          - name: Timor-Leste
          - name: Togo
          - name: Tokelau
          - name: Tonga
          - name: Trinidad and Tobago
          - name: Tromelin Island
          - name: Tunisia
          - name: Turkey
          - name: Turkmenistan
          - name: Turks and Caicos Islands
          - name: Tuvalu
          - name: Uganda
          - name: Ukraine
          - name: United Arab Emirates
          - name: United Kingdom
          - name: Uruguay
          - name: USA
          - name: Uzbekistan
          - name: Vanuatu
          - name: Venezuela
          - name: Viet Nam
          - name: Virgin Islands
          - name: Wake Island
          - name: Wallis and Futuna
          - name: West Bank
          - name: Western Sahara
          - name: Yemen
          - name: Zambia
          - name: Zimbabwe
          # Historical Countries in NIH
          - name: Belgian Congo
          - name: British Guiana
          - name: Burma
          - name: Czechoslovakia
          - name: Czech Republic
          - name: East Timor
          - name: Korea
          - name: Macedonia
          - name: Micronesia
          - name: Netherlands Antilles
          - name: Serbia and Montenegro
          - name: Siam
          - name: Swaziland
          - name: The former Yugoslav Republic of Macedonia
          - name: USSR
          - name: Yugoslavia
          - name: Zaire
        preprocessing:
          function: process_options
          inputs:
            input: geoLocCountry
      - name: geoLocAdmin1
        displayName: Collection subdivision level 1
        generateIndex: true
        autocomplete: true
        initiallyVisible: true
        includeInDownloadsByDefault: true
        header: Sample details
        ingest: division
        columnWidth: 134
        order: 30
        definition: "A local administrative region from which the sample was collected (ex: Province, State, Canton)"
        example: "Ontario"
        desired: true
      - name: geoLocAdmin2
        displayName: Collection subdivision level 2
        generateIndex: true
        autocomplete: true
        includeInDownloadsByDefault: true
        header: Sample details
        definition: "A local administrative region from which the sample was collected (ex: county or municipality)"
        desired: true
        example: "City of Toronto"
      - name: geoLocCity
        displayName: Collection city
        generateIndex: true
        autocomplete: true
        includeInDownloadsByDefault: true
        header: Sample details
        definition: "The city from which the sample was collected."
        example: "Toronto"
      - name: geoLocSite
        ontology_id: GENEPIO:0100436
        definition: The name of a specific geographical location e.g. Credit River (rather than river).
        example: Credit River
        displayName: Collection site
        header: Sample details
      - name: geoLocLatitude
        displayName: Latitude
        header: Sample details
        type: float
        definition: Geo-coordinate latitude in decimal degree (WGS84) format
        guidance: Provide values in range -90 to 90, where positive values are north of the Equator.
        example: -34.603722
      - name: geoLocLongitude
        displayName: Longitude
        header: Sample details
        type: float
        definition: Geo-coordinate longitude in decimal degree (WGS84) format
        guidance: Provide values in range -180 to 180, where positive values are east of the Prime Meridian.
        example: -58.381592
      - name: specimenCollectorSampleId
        displayName: Isolate name
        header: Sample details
        ingest: ncbiIsolateName
        includeInDownloadsByDefault: true
        enableSubstringSearch: true
        definition: "Any other non-identifiable sample ID attached to the sequence."
        example: "Isolate 1"
        desired: true
      - name: authors
        displayName: Authors
        type: authors
        header: Authors
        enableSubstringSearch: true
        ingest: ncbiSubmitterNames
        includeInDownloadsByDefault: true
        preprocessing:
          function: check_authors
          inputs:
            authors: authors
        columnWidth: 134
        order: 40
        definition: "List of authors who should be listed on the sample."
        guidance: "Authors should be separated by semi-colons. Each author's name should be in the format `last name, first name;`. Last name(s) is mandatory, only ASCII alphabetical characters A-Z are allowed."
        example: "Smith, Anna; Perez, Tom J.; Xu,;"
        required: true
      - name: authorAffiliations
        displayName: Author affiliations
        generateIndex: true
        autocomplete: true
        includeInDownloadsByDefault: true
        header: Authors
        ingest: ncbiSubmitterAffiliation
        enableSubstringSearch: true
        columnWidth: 134
        order: 50
        desired: true
        definition: "List of author affiliations"
        guidance: "If multiple affiliations exist, create a semi-colon separated list in the same order as authors with one entry per author"
        example: "EVE Group, MPI Department, Swiss TPH, Basel, Switzerland;  Anderson Group, IEB Department, School of Biology, University of Edinburgh, Edinburgh, Scotland"
      - name: ncbiSubmitterCountry
        displayName: NCBI submitter country
        generateIndex: true
        autocomplete: true
        hideOnSequenceDetailsPage: true
        noInput: true
        header: "INSDC"
      - name: insdcAccessionBase
        displayName: INSDC accession base
        header: "INSDC"
        hideOnSequenceDetailsPage: true
        noInput: true
        perSegment: true
        oneHeader: true
      - name: insdcVersion
        displayName: INSDC version
        type: int
        header: "INSDC"
        hideOnSequenceDetailsPage: true
        noInput: true
        perSegment: true
        oneHeader: true
      - name: insdcAccessionFull
        displayName: INSDC accession
        includeInDownloadsByDefault: true
        customDisplay:
          type: linkWithMenu
          linkMenuItems:
            - name: View in NCBI
              url: "https://www.ncbi.nlm.nih.gov/nuccore/__value__"
            - name: View in ENA
              url: "https://www.ebi.ac.uk/ena/browser/view/__value__"
            - name: View in DDBJ
              url: "https://getentry.ddbj.nig.ac.jp/getentry/na/__value__"
        header: "INSDC"
        ingest: genbankAccession
        noInput: true
        perSegment: true
        oneHeader: true
      - name: bioprojectAccession
        displayName: BioProject accession
        customDisplay:
          type: linkWithMenu
          linkMenuItems:
            - name: View in NCBI
              url: "https://www.ncbi.nlm.nih.gov/bioproject/__value__"
            - name: View in ENA
              url: "https://www.ebi.ac.uk/ena/browser/view/__value__"
            - name: View in DDBJ
              url: "https://ddbj.nig.ac.jp/search/entry/bioproject/__value__"
        header: "INSDC"
        header: "INSDC"
        ingest: bioprojects
        guidance: "Only add this field if you want your sequences to be deposited into an existing public BioProject in the INSDC. If you do not have a bioproject, leave this field blank - we will create a BioProject for you on submission of your consensus sequence."
        definition: "Accession of public BioProject in the INSDC your consensus sequences should be uploaded to."
        example: "PRJNA123456"
        preprocessing:
          function: check_regex
          inputs:
            regex_field: bioprojectAccession
          args:
            pattern: "^PRJ(E|D|N)[A-Z][0-9]+$"
      - name: biosampleAccession
        displayName: BioSample accession
        customDisplay:
          type: linkWithMenu
          linkMenuItems:
            - name: View in NCBI
              url: "https://www.ncbi.nlm.nih.gov/biosample/__value__"
            - name: View in ENA
              url: "https://www.ebi.ac.uk/ena/browser/view/__value__"
            - name: View in DDBJ
              url: "https://ddbj.nig.ac.jp/search/entry/biosample/__value__"
        header: "INSDC"
        includeInDownloadsByDefault: true
        guidance: "Only add this field if you have already submitted raw reads for this sequence to the INSDC, read more at https://pathoplexus.org/docs/how-to/upload-sequences. If you add this field we will not create a new BioSample for you and assume you have submitted all required metadata in the linked BioSample. (If you add this field also should add the corresponding BioProject.)"
        definition: "Accession of corresponding public BioSample of the raw reads in the INSDC"
        example: "SAMN12345678"
        oneHeader: true
        preprocessing:
          function: check_regex
          inputs:
            regex_field: biosampleAccession
          args:
            pattern: "^SAM(E|D|N)[A-Z]?[0-9]+$"
      - name: gcaAccession
        displayName: GCA accession
        customDisplay:
          type: link
          url: "https://www.ncbi.nlm.nih.gov/datasets/genome/__value__"
        header: "INSDC"
        noInput: true
        oneHeader: true
      - name: cultureId
        displayName: Culture ID
        header: Sample details
        definition: "An ID useful to linking to a culture"
        example: "Plate7-1124"
        desired: true
      - name: sampleReceivedDate
        ontology_id: GENEPIO:0001177
        definition: The date on which the sample was received by the laboratory.
        guidance: "Please format YYYY-MM-DD - use XX if unknown, ex: `2020-03-XX` or `2020-XX-XX`, and provide at least year. Before sharing this data, ensure this date is not considered identifiable information."
        example: '2020-03-20'
        displayName: Sample received date
        type: date
        preprocessing:
          function: parse_and_assert_past_date
          inputs:
            date: sampleReceivedDate
        header: Sample details
        desired: true
      - name: sampleType
        displayName: Sample type
        header: Sampling
        definition: "Method of sampling."
        example: "Nasopharyngeal Swabs"
      - name: purposeOfSampling
        displayName: Purpose of sampling
        ontology_id: GENEPIO:0001198
        definition: The reason that the sample was collected.
        example: Diagnostic testing
        header: Sampling
        ingest: ncbiPurposeOfSampling
      - name: presamplingActivity
        definition: Any activities or variables introduced upstream of sample collection that would affect the sample prior to collection (this is different than sample processing which happens after the sample is collected).
        example: Antimicrobial pre-treatment [GENEPIO:0100537]
        displayName: Presampling activity
        header: Sampling
      - name: anatomicalMaterial
        ontology_id: GENEPIO:0001211
        definition: A substance obtained from an anatomical part of an organism e.g. tissue, blood, saliva, fluid (Cerebrospinal (CSF), Pericardial, Pleural, Vaginal, Amniotic).
        guidance: 'Use this look-up service to identify a standardized term: https://www.ebi.ac.uk/ols/ontologies/uberon. If not applicable, leave blank.'
        example: Blood [UBERON:0000178]
        displayName: Anatomical material
        header: Sampling
      - name: anatomicalPart
        ontology_id: GENEPIO:0001214
        definition: An anatomical part of an organism e.g. oropharynx.
        guidance: 'Use this look-up service to identify a standardized term: https://www.ebi.ac.uk/ols/ontologies/uberon. If not applicable, leave blank.'
        example: Nasopharynx (NP) [UBERON:0001728]
        displayName: Anatomical part
        header: Sampling
      - name: bodyProduct
        ontology_id: GENEPIO:0001216
        definition: A substance excreted/secreted from an organism e.g. feces, urine, sweat.
        guidance: 'Use this look-up service to identify a standardized term: https://www.ebi.ac.uk/ols/ontologies/uberon. If not applicable, leave blank.'
        example: Feces [UBERON:0001988]
        displayName: Body product
        header: Sampling
      - name: environmentalMaterial
        ontology_id: GENEPIO:0001223
        definition: A substance obtained from the natural or man-made environment e.g. soil, water, sewage, door handle, bed handrail, face mask.
        guidance: 'Use this look-up service to identify a standardized term: https://www.ebi.ac.uk/ols/ontologies/envo. If not applicable, leave blank.'
        example: Face mask [OBI:0002787]
        displayName: Environmental material
        header: Sampling
      - name: environmentalSite
        ontology_id: GENEPIO:0001232
        definition: An environmental location may describe a site in the natural or built environment e.g. hospital, wet market, bat cave.
        guidance: 'Use this look-up service to identify a standardized term: https://www.ebi.ac.uk/ols/ontologies/envo. If not applicable, leave blank.'
        example: Hospital [ENVO:00002173]
        displayName: Environmental site
        header: Sampling
      - name: collectionDevice
        ontology_id: GENEPIO:0001234
        definition: The instrument or container used to collect the sample e.g. swab.
        guidance: 'Use this look-up service to identify a standardized term: https://www.ebi.ac.uk/ols/ontologies/obi. If not applicable, leave blank.'
        example: Swab [GENEPIO:0100027]
        displayName: Collection device
        header: Sampling
        desired: true
      - name: collectionMethod
        ontology_id: GENEPIO:0001241
        definition: The process used to collect the sample e.g. phlebotomy, necropsy.
        guidance: 'Use this look-up service to identify a standardized term: https://www.ebi.ac.uk/ols/ontologies/obi. If not applicable, leave blank.'
        example: Bronchoalveolar lavage (BAL) [GENEPIO:0100032]
        displayName: Collection method
        header: Sampling
        desired: true
      - name: foodProduct
        ontology_id: GENEPIO:0100444
        definition: A material consumed and digested for nutritional value or enjoyment, including animal feed.
        guidance: 'Use this look-up service to identify a standardized term: https://www.ebi.ac.uk/ols4/ontologies/foodon. If not applicable, leave blank.'
        example: Feather meal [FOODON:00003927]; Bone meal [ENVO:02000054]; Chicken breast [FOODON:00002703]
        displayName: Food product
        header: Sampling
      - name: foodProductProperties
        ontology_id: GENEPIO:0100445
        definition: Any characteristic of the food product pertaining to its state, processing, a label claim, or implications for consumers (e.g. cooked, preserved, processed, raw, ready-to-eat).
        guidance: 'Use this look-up service to identify a standardized term: https://www.ebi.ac.uk/ols4/ontologies/foodon. If not applicable, leave blank.'
        example: Food (chopped) [FOODON:00002777]; Ready-to-eat (RTE) [FOODON:03316636]
        displayName: Food product properties
        header: Sampling
      - name: specimenProcessing
        ontology_id: GENEPIO:0100435
        definition: The processing applied to samples post-collection, prior to further testing, characterization, or isolation procedures.
        guidance: 'Use this look-up service to identify a standardized term: https://www.ebi.ac.uk/ols4/ontologies/obi. If not applicable, leave blank.'
        example: Samples pooled [OBI:0600016]
        displayName: Specimen processing
        header: Specimen processing
      - name: specimenProcessingDetails
        ontology_id: GENEPIO:0100311
        definition: Detailed information regarding the processing applied to a sample during or after receiving the sample.
        example: 25 swabs were pooled and further prepared as a single sample during library prep.
        displayName: Specimen processing details
        header: Specimen processing
      - name: experimentalSpecimenRoleType
        ontology_id: GENEPIO:0100921
        definition: The type of role that the sample represents in the experiment (control, replicate, sample under study).
        guidance: 'Use this look-up service to identify a standardized term: https://www.ebi.ac.uk/ols4/ontologies/efo. If not applicable, leave blank.'
        example: Positive experimental control [GENEPIO:0101018]
        displayName: Experimental specimen role type
        header: Specimen processing
      - name: hostAge
        ontology_id: GENEPIO:0001392
        definition: Age of host (in years) at the time of sampling.
        guidance: In case of privacy concerns use hostAgeBin.
        example: "79"
        displayName: Host age
        type: int
        header: Host
        rangeSearch: true
      - name: hostAgeBin
        ontology_id: GENEPIO:0001394
        definition: The age category of the host at the time of sampling.
        guidance: Age bins in 10 year intervals.
        example: 50 - 59 [GENEPIO:0100054]
        displayName: Host age bin
        header: Host
      - name: hostGender
        ontology_id: GENEPIO:0001395
        definition: The gender of the host at the time of sample collection.
        example: Male [NCIT:C46109]
        displayName: Host gender
        header: Host
        ingest: ncbiHostSex
      - name: hostOriginCountry
        ontology_id: GENEPIO:0100438
        definition: The country of origin of the host.
        example: South Africa
        guidance: Please add if host origin differs from sample collection location.
        displayName: Host origin country
        header: Host
      - name: hostDisease
        ontology_id: GENEPIO:0001391
        definition: The name of the disease experienced by the host.
        guidance: "The standardized term can be sourced from this look-up service: https://www.ebi.ac.uk/ols/ontologies/doid."
        example: mastitis, gastroenteritis
        displayName: Host disease
        header: Host
      - name: signsAndSymptoms
        definition: A perceived change in function or sensation, (loss, disturbance or appearance) indicative of a disease, reported by a patient.
        guidance: "The standardized term can be sourced from this look-up service: https://www.ebi.ac.uk/ols4/ontologies/symp."
        example: Cough [HP:0012735], Fever [HP:0001945],  Rigors (fever shakes) [HP:0025145]
        displayName: Signs and symptoms
        header: Host
      - name: hostHealthState
        ontology_id: GENEPIO:0001388
        definition: Health status of the host at the time of sample collection.
        guidance: "The standardized term can be sourced from this look-up service: https://www.ebi.ac.uk/ols4/ontologies/ncit"
        example: Asymptomatic [NCIT:C3833]
        displayName: Host health state
        header: Host
      - name: hostHealthOutcome
        ontology_id: GENEPIO:0001390
        definition: Disease outcome in the host.
        guidance: "The standardized term can be sourced from this look-up service: https://www.ebi.ac.uk/ols4/ontologies/ncit"
        example: Recovered [NCIT:C49498]
        displayName: Host health outcome
        header: Host
      - name: travelHistory
        ontology_id: GENEPIO:0001416
        guidance: Specify the countries travelled in the last six months; separate multiple travel events with a semicolon.
        example: Canada, Vancouver; USA, Seattle; Italy, Milan
        displayName: Travel history
        header: Host
      - name: exposureEvent
        ontology_id: GENEPIO:0001417
        definition: Event leading to exposure.
        guidance: "You can use the look-up service: https://www.ebi.ac.uk/ols4/ontologies/ecto to select a value."
        example: Mass Gathering [GENEPIO:0100237]
        displayName: Exposure event
        header: Host
      - name: hostRole
        ontology_id: GENEPIO:0001419
        definition: The role of the host in relation to the exposure setting.
        example: Patient [OMRSE:00000030]
        displayName: Host role
        header: Host
      - name: exposureSetting
        ontology_id: GENEPIO:0001428
        definition: The setting leading to exposure.
        example: Healthcare Setting [GENEPIO:0100201]
        displayName: Exposure setting
        header: Host
      - name: exposureDetails
        ontology_id: GENEPIO:0001431
        definition: Additional host exposure information.
        example: "Host role - Other: Bus Driver"
        displayName: Exposure details
        header: Host
      - name: previousInfectionDisease
        definition: The name of the disease previously experienced by the host.
        guidance: "The standardized term can be sourced from this look-up service: https://www.ebi.ac.uk/ols/ontologies/doid."
        example: COVID-19
        displayName: Previous infection (disease)
        header: Host
      - name: previousInfectionOrganism
        definition: The name of the pathogen causing the disease previously experienced by the host.
        example: Sudden Acute Respiratory Syndrome Coronavirus 2 (SARS-CoV-2)
        displayName: Previous infection (organism)
        header: Host
      - name: hostVaccinationStatus
        ontology_id: GENEPIO:0001404
        definition: The vaccination status of the host (fully vaccinated, partially vaccinated, or not vaccinated) in relation to the sequenced pathogen.
        example: Fully Vaccinated [GENEPIO:0100100]
        displayName: Host vaccination status
        header: Host
      - name: purposeOfSequencing
        ontology_id: GENEPIO:0001445
        definition: The reason that the sample was sequenced.
        guidance: The reason why a sample was originally collected may differ from the reason why it was selected for sequencing. The reason a sample was sequenced may provide information about potential biases in sequencing strategy.
        example: Baseline surveillance (random sampling) [GENEPIO:0100005]
        displayName: Purpose of sequencing
        header: Sequencing
      - name: sequencingDate
        ontology_id: GENEPIO:0001447
        definition: The date the sample was sequenced.
        guidance: "Please format YYYY-MM-DD - use XX if unknown, ex: `2020-03-XX` or `2020-XX-XX`, and provide at least year"
        example: "2021-04-26"
        displayName: Sequencing date
        type: date
        preprocessing:
          function: parse_and_assert_past_date
          inputs:
            date: sequencingDate
        header: Sequencing
        desired: true
      - name: ampliconPcrPrimerScheme
        ontology_id: GENEPIO:0001456
        definition: The specifications of the primers (primer sequences, binding positions, fragment size generated etc) used to generate the amplicons to be sequenced.
        example: https://github.com/joshquick/artic-ncov2019/blob/master/primer_schemes/nCoV-2019/V3/nCoV-2019.tsv
        displayName: Amplicon PCR primer scheme
        header: Sequencing
      - name: ampliconSize
        ontology_id: GENEPIO:0001449
        definition: The length of the amplicon generated by PCR amplification including units.
        example: 300bp
        displayName: Amplicon size
        header: Sequencing
      - name: sequencingInstrument
        ontology_id: GENEPIO:0001452
        guidance: "First check if there exists a standardized term: https://www.ebi.ac.uk/ols4/ontologies/obi for your model, if not add your model in free text."
        example: Oxford Nanopore MinION [GENEPIO:0100142]
        displayName: Sequencing instrument
        header: Sequencing
        desired: true
      - name: sequencingProtocol
        ontology_id: GENEPIO:0001454
        definition: The protocol used to generate the sequence.
        guidance: Provide methods and materials used to generate the sequence (e.g. amplicon strategy, primer scheme, sequencing instrument, library kit).
        example: Genomes were generated through amplicon sequencing of 1200 bp amplicons with Freed schema primers. Libraries were created using Illumina DNA Prep kits, and sequence data was produced using Miseq Micro v2 (500 cycles) sequencing kits.
        displayName: Sequencing protocol
        header: Sequencing
        desired: true
      - name: sequencingAssayType
        ontology_id: GENEPIO:0100997
        definition: The overarching DNA or RNA sequencing methodology that was used to determine the sequence of a biomaterial.
        guidance: "First check if there exists a standardized term: https://www.ebi.ac.uk/ols4/ontologies/obi for your assay, if not add your methodology in free text."
        example: whole genome sequencing assay [OBI:0002117]
        displayName: Sequencing assay type
        header: Sequencing
      - name: sequencedByOrganization
        ontology_id: GENEPIO:0100416
        definition: The name of the agency, organization or institution responsible for sequencing the isolate's genome.
        example: Public Health Agency of Canada (PHAC) [GENEPIO:0100551]
        displayName: Sequenced by - organization
        header: Sequencing
      - name: sequencedByContactName
        ontology_id: GENEPIO:0100471
        definition: The name or title of the contact responsible for follow-up regarding the sequence.
        guidance: As personnel turnover may render the contact's name obsolete, it is more preferable to provide a job title for ensuring accuracy of information and institutional memory.
        example: Enterics Lab Manager
        displayName: Sequenced by - contact name
        header: Sequencing
      - name: sequencedByContactEmail
        ontology_id: GENEPIO:0100422
        definition: The email address of the contact responsible for follow-up regarding the sequence.
        guidance: As personnel turnover may render an individual's email obsolete, it is more preferable to provide an address for a position or lab, to ensure accuracy of information and institutional memory.
        example: enterics@lab.ca
        displayName: Sequenced by - contact email
        header: Sequencing
      - name: rawSequenceDataProcessingMethod
        ontology_id: GENEPIO:0001458
        definition: The method used for raw data processing such as removing barcodes, adapter trimming, filtering etc.
        guidance: Provide the name and version numbers of the software used to process the raw data.
        example: Porechop 0.2.3
        displayName: Raw sequence data processing method
        header: Sequencing
      - name: dehostingMethod
        ontology_id: GENEPIO:0001459
        definition: The method used to remove host reads from the pathogen sequence.
        guidance: Provide the name and version number of the software used to remove host reads.
        example: Nanostripper 1.2.3
        displayName: Dehosting method
        header: Sequencing
      - name: assemblyReferenceGenomeAccession
        ontology_id: GENEPIO:0001485
        definition: A persistent, unique identifier of a genome database entry.
        guidance: Provide the INSDC accession number of the reference genome used for mapping/assembly.
        example: NC_045512.2
        displayName: Reference genome accession
        header: Sequencing
      - name: consensusSequenceSoftwareName
        ontology_id: GENEPIO:0001463
        definition: The name of software used to generate the consensus sequence.
        guidance: Provide the name of the software used to generate the consensus sequence.
        example: Ivar
        displayName: Consensus sequence software name
        header: Sequencing
      - name: consensusSequenceSoftwareVersion
        ontology_id: GENEPIO:0001469
        definition: The version of the software used to generate the consensus sequence.
        guidance: Provide the version of the software used to generate the consensus sequence.
        example: "1.3"
        displayName: Consensus sequence software version
        header: Sequencing
      - name: depthOfCoverage
        ontology_id: GENEPIO:0001474
        definition: The average number of reads representing a given nucleotide in the reconstructed sequence.
        guidance: Provide value as a fold of coverage (as a number).
        example: "400"
        displayName: Depth of coverage
        type: int
        header: Sequencing
        desired: true
      - name: breadthOfCoverage
        ontology_id: GENEPIO:0001475
        definition: The percentage of the reference genome covered by the sequenced data, at a prescribed depth (depthOfCoverage).
        guidance: Provide the percentage (as a number)
        example: "95"
        displayName: Breadth of coverage
        type: int
        header: Sequencing
      - name: qualityControlMethodName
        ontology_id: GENEPIO:0100557
        definition: The name of the method used to assess whether a sequence passed a predetermined quality control threshold.
        guidance: Method names can be provided as the name of a pipeline or a link to a GitHub repository. Multiple methods should be listed and separated by a semi-colon.
        example: ncov-tools
        displayName: Quality control method name
        header: Sequencing
      - name: qualityControlMethodVersion
        ontology_id: GENEPIO:0100558
        definition: The version number of the method used to assess whether a sequence passed a predetermined quality control threshold.
        guidance: If multiple methods were used, record the version numbers in the same order as the method names. Separate the version numbers using a semi-colon.
        example: "1.2.3"
        displayName: Quality control method version
        header: Sequencing
      - name: qualityControlDetermination
        ontology_id: GENEPIO:0100559
        definition: The determination (result) of a quality control assessment.
        #guidance: Select a value from the pick list provided. If a desired value is missing, submit a new term request to the PHA4GE QC Tag GitHub issuetracker using the New Term Request form.
        example: sequence failed quality control
        displayName: Quality control determination
        header: Sequencing
      - name: qualityControlIssues
        ontology_id: GENEPIO:0100560
        definition: The reason contributing to, or causing, a low quality determination in a quality control assessment.
        #guidance: Select a value from the pick list provided. If a desired value is missing, submit a new term request to the PHA4GE QC Tag GitHub issuetracker using the New Term Request form.
        example: low average genome coverage
        displayName: Quality control issues
        header: Sequencing
      - name: qualityControlDetails
        ontology_id: GENEPIO:0100561
        definition: The details surrounding a low quality determination in a quality control assessment.
        example: CT value of 39. Low viral load. Low DNA concentration after amplification.
        displayName: Quality control details
        header: Sequencing
      - name: diagnosticMeasurementMethod
        displayName: Diagnostic measurement - method
        header: Diagnostics
        definition: "Type of diagnostic test performed"
        example: "RT-PCR test"
      - name: diagnosticTargetPresence
        displayName: Diagnostic target - presence
        header: Diagnostics
        definition: "Boolean value, if the diagnostic target was present."
        example: "True"
      - name: diagnosticTargetGeneName
        displayName: Diagnostic target - gene name
        header: Diagnostics
        definition: "Name of the gene targeted by the diagnostic RT-PCR test."
        example: "E gene (orf4)"
      - name: diagnosticMeasurementValue
        displayName: Diagnostic measurement - value
        header: Diagnostics
        definition: "Value of the diagnostic test. Ex: The Ct value result from a diagnostic SARS-CoV-2 RT-PCR test"
        example: "39"
      - name: diagnosticMeasurementUnit
        displayName: Diagnostic measurement - unit
        header: Diagnostics
        definition: "Unit of the diagnostic measurement value"
        example: "Cycle threshold (CT)"
      - name: length
        type: int
        header: "Alignment and QC metrics"
        noInput: true
        rangeSearch: true
        initiallyVisible: true
        includeInDownloadsByDefault: true
        perSegment: true
        displayName: Length
        columnWidth: 84
        order: 80
      - name: hostNameScientific
        displayName: Host name - scientific
        generateIndex: true
        autocomplete: true
        header: "Host"
        ingest: ncbiHostName
        includeInDownloadsByDefault: true
        order: 70
        definition: "The scientific name of the host from which the sample was collected."
        example: "Homo sapiens"
        desired: true
      - name: hostNameCommon
        displayName: Host name - common
        generateIndex: true
        autocomplete: true
        header: "Host"
        ingest: ncbiHostCommonName
        definition: "The common name of the host from which the sample was collected."
        example: "Human"
      - name: hostTaxonId
        displayName: Host taxon ID
        type: int
        autocomplete: true
        customDisplay:
          type: link
          url: "https://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?mode=info&id=__value__"
        header: "Host"
        ingest: ncbiHostTaxId
        definition: "Taxon ID for the host"
        guidance: "Use https://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi to find taxon ids."
        example: "9606"
      - name: isLabHost
        displayName: Is lab host
        autocomplete: true
        header: "Host"
        includeInDownloadsByDefault: true
        ingest: ncbiIsLabHost
        definition: "If a laboratory host (e.g. cultured cell line) was used to propagate the sample."
        example: "True"
        type: boolean
      - name: cellLine
        displayName: Cell line
        generateIndex: true
        autocomplete: true
        header: "Host"
        definition: "Population of cells derived from a single cell or group of cells, which are cultured in the laboratory under controlled conditions"
      - name: passageNumber
        displayName: Passage number
        type: int
        header: "Host"
        definition: "The number of times a cell culture has been subcultured or transferred from one vessel to another."
        example: "12"
      - name: passageMethod
        displayName: Passage method
        generateIndex: true
        autocomplete: true
        header: "Host"
        definition: "The techniques used to subculture cells"
        example: "Enzymatic Detachment"
      - name: ncbiSourceDb
        displayName: NCBI Source DB
        generateIndex: true
        autocomplete: true
        header: "INSDC"
        hideOnSequenceDetailsPage: true
        noInput: true
      - name: ncbiVirusName
        displayName: NCBI Virus name
        generateIndex: true
        autocomplete: true
        hideOnSequenceDetailsPage: true
        noInput: true
        header: "INSDC"
      - name: ncbiVirusTaxId
        displayName: NCBI Virus tax ID
        type: int
        autocomplete: true
        customDisplay:
          type: link
          url: "https://www.ncbi.nlm.nih.gov/labs/virus/vssi/#/virus?SeqType_s=Nucleotide&VirusLineage_ss=taxid:__value__"
        hideOnSequenceDetailsPage: true
        noInput: true
        header: "INSDC"
      - name: insdcRawReadsAccession
        displayName: Raw reads accession
        customDisplay:
          type: link
          url: "https://www.ncbi.nlm.nih.gov/sra/?term=__value__"
        header: "INSDC"
        includeInDownloadsByDefault: true
        ingest: ncbiSraAccessions
        guidance: "Only add this field if you have already submitted raw reads to the INSDC, read more at https://pathoplexus.org/docs/how-to/upload-sequences."
        definition: "Accession of corresponding raw reads in the INSDC, e.g. SRR27477368"
        preprocessing:
          function: check_regex
          inputs:
            regex_field: insdcRawReadsAccession
          args:
            # NCBI can output comma-separated lists of SRR accessions
            # Also accept ERS/SRS for now, as NCBI virus occasionally sends those
            # See https://github.com/ncbi/datasets/issues/516
            pattern: "^(E|D|S)R(R|S)[0-9]{6,}(,(E|D|S)R(R|S)[0-9]{6,})*$"
      - name: totalSnps
        type: int
        header: "Alignment and QC metrics"
        noInput: true
        rangeSearch: true
        perSegment: true
        displayName: Total SNPs
        preprocessing:
          inputs: {input: nextclade.totalSubstitutions}
      - name: totalInsertedNucs
        type: int
        header: "Alignment and QC metrics"
        noInput: true
        rangeSearch: true
        perSegment: true
        displayName: Total inserted nucs
        preprocessing:
          inputs: {input: nextclade.totalInsertions}
      - name: totalDeletedNucs
        type: int
        header: "Alignment and QC metrics"
        noInput: true
        rangeSearch: true
        perSegment: true
        preprocessing:
          inputs: {input: nextclade.totalDeletions}
        displayName: Total deleted nucs
      - name: totalAmbiguousNucs
        type: int
        header: "Alignment and QC metrics"
        includeInDownloadsByDefault: true
        noInput: true
        rangeSearch: true
        perSegment: true
        displayName: Total ambiguous nucs
        preprocessing:
          inputs: {input: "nextclade.totalNonACGTNs"}
      - name: totalUnknownNucs
        type: int
        header: "Alignment and QC metrics"
        includeInDownloadsByDefault: true
        noInput: true
        rangeSearch: true
        perSegment: true
        displayName: Total unknown nucs
        preprocessing:
          inputs: {input: nextclade.totalMissing}
      - name: totalFrameShifts
        type: int
        rangeSearch: true
        header: "Alignment and QC metrics"
        noInput: true
        perSegment: true
        displayName: Total frame shifts
        preprocessing:
          inputs: {input: nextclade.totalFrameShifts}
      - name: frameShifts
        header: "Alignment and QC metrics"
        noInput: true
        perSegment: true
        displayName: Frame shifts
        preprocessing:
          inputs: {input: nextclade.frameShifts}
      - name: completeness
        type: float
        header: "Alignment and QC metrics"
        includeInDownloadsByDefault: true
        noInput: true
        perSegment: true
        displayName: Completeness
        rangeSearch: true
        customDisplay:
          type: percentage
        preprocessing:
          inputs: {input: nextclade.coverage}
      - name: comment
        displayName: Comment
        header: "Submission details"
        definition: "Any additional comments about the sample or sequence."
    website: &website
      tableColumns:
        - sampleCollectionDate
        - earliestReleaseDate
        - authors
        - authorAffiliations
        - geoLocCountry
        - geoLocAdmin1
        - length
      defaultOrderBy: sampleCollectionDate
      defaultOrder: descending
    extraInputFields: []
    metadataTemplate:
      - geoLocCountry  
      - sampleCollectionDate  
      - authors  
      - authorAffiliations  
      - hostNameScientific  
      - collectionDevice  
      - collectionMethod  
      - cultureId  
      - depthOfCoverage  
      - geoLocAdmin1  
      - geoLocAdmin2  
      - sampleReceivedDate  
      - sequencingDate  
      - sequencingInstrument  
      - sequencingProtocol  
      - specimenCollectorSampleId  
      - versionComment
      - comment
  preprocessing:
    - &preprocessing
      replicas: 1
      version: 11
      image: ghcr.io/loculus-project/preprocessing-nextclade
      args:
        - "prepro"
      configFile: &preprocessingConfigFile
        log_level: DEBUG
        nextclade_dataset_name: nextstrain/ebola/zaire
        genes: [NP, VP35, VP40, GP, sGP, ssGP, VP30, VP24, L]
        batch_size: 100
    # - <<: *preprocessing
    #   version: 12
  ingest: &ingest
    image: ghcr.io/loculus-project/ingest
    configFile: &ingestConfigFile
      taxon_id: 3052462
  enaDeposition:
    configFile:
      taxon_id: 186538
      scientific_name: "Zaire ebolavirus"
      molecule_type: "genomic RNA"
  referenceGenomes:
    singleReference:
      nucleotideSequences:
        - name: "main"
          sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/ebola-zaire/reference.fasta]]"
          insdcAccessionFull: NC_002549.1
      genes:
        - name: NP
          sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/ebola-zaire/NP.fasta]]"
        - name: VP35
          sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/ebola-zaire/VP35.fasta]]"
        - name: VP40
          sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/ebola-zaire/VP40.fasta]]"
        - name: GP
          sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/ebola-zaire/GP.fasta]]"
        - name: ssGP
          sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/ebola-zaire/ssGP.fasta]]"
        - name: sGP
          sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/ebola-zaire/sGP.fasta]]"
        - name: VP30
          sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/ebola-zaire/VP30.fasta]]"
        - name: VP24
          sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/ebola-zaire/VP24.fasta]]"
        - name: L
          sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/ebola-zaire/L.fasta]]"
organisms:
  ebola-zaire:
    <<: *defaultOrganismConfig
    preprocessing:
      - <<: *preprocessing
        configFile:
          <<: *preprocessingConfigFile
          nextclade_dataset_server: https://raw.githubusercontent.com/nextstrain/nextclade_data/ebola/data_output
          nextclade_dataset_name: nextstrain/ebola/zaire
      # - <<: *preprocessing
      #   version: 12
      #   configFile:
      #     <<: *preprocessingConfigFile
      #     nextclade_dataset_server: https://raw.githubusercontent.com/nextstrain/nextclade_data/ebola/data_output
      #     nextclade_dataset_name: nextstrain/ebola/zaire
  ebola-sudan:
    <<: *defaultOrganismConfig
    schema:
      <<: *schema
      organismName: "Ebola Sudan"
      image: "/images/organisms/ebolasudan_small.jpg"
      linkOuts:
        - name: "Nextclade"
          maxNumberOfRecommendedEntries: 3000 # ebola is ~18.5kb
          url: "https://clades.nextstrain.org/?input-fasta={{[unalignedNucleotideSequences+rich|fasta]}}&dataset-name=nextstrain/ebola/sudan&dataset-server=https://raw.githubusercontent.com/nextstrain/nextclade_data/ebola/data_output"
        - name: "Country map"
          url: "https://mapoplexus.genomium.org/?url={{[metadata]}}"
      metadataAdd:
        - name: totalStopCodons
          displayName: Total Stop Codons
          type: int
          header: "Alignment and QC metrics"
          noInput: true
          preprocessing:
            inputs: {input: nextclade.qc.stopCodons.totalStopCodons}
        - name: stopCodons
          displayName: Stop Codons
          header: "Alignment and QC metrics"
          noInput: true
          preprocessing:
            inputs: {input: nextclade.qc.stopCodons.stopCodons}
    preprocessing:
      - <<: *preprocessing
        configFile:
          <<: *preprocessingConfigFile
          nextclade_dataset_server: https://raw.githubusercontent.com/nextstrain/nextclade_data/ebola/data_output
          nextclade_dataset_name: nextstrain/ebola/sudan
      # - <<: *preprocessing
      #   version: 12
      #   configFile:
      #     <<: *preprocessingConfigFile
      #     nextclade_dataset_server: https://raw.githubusercontent.com/nextstrain/nextclade_data/ebola/data_output
      #     nextclade_dataset_name: nextstrain/ebola/sudan
    ingest:
      <<: *ingest
      configFile:
        taxon_id: 3052460
    enaDeposition:
      configFile:
        taxon_id: 186540 
        scientific_name: "Sudan ebolavirus"
        molecule_type: "genomic RNA"
    referenceGenomes:
      singleReference:
        nucleotideSequences:
          - name: "main"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/ebola-sudan/reference.fasta]]"
            insdcAccessionFull: NC_006432.1
        genes:
          - name: NP
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/ebola-sudan/NP.fasta]]"
          - name: VP35
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/ebola-sudan/VP35.fasta]]"
          - name: VP40
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/ebola-sudan/VP40.fasta]]"
          - name: GP
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/ebola-sudan/GP.fasta]]"
          - name: ssGP
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/ebola-sudan/ssGP.fasta]]"
          - name: sGP
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/ebola-sudan/sGP.fasta]]"
          - name: VP30
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/ebola-sudan/VP30.fasta]]"
          - name: VP24
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/ebola-sudan/VP24.fasta]]"
          - name: L
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/ebola-sudan/L.fasta]]"
  west-nile:
    <<: *defaultOrganismConfig
    schema:
      <<: *schema
      organismName: "West Nile Virus"
      image: "/images/organisms/wnv_small.jpg"
      linkOuts:
        - name: "Nextclade"
          maxNumberOfRecommendedEntries: 2500 # west nile is ~11kb
          url: "https://clades.nextstrain.org/?input-fasta={{[unalignedNucleotideSequences+rich|fasta]}}&dataset-name=nextstrain/wnv/all-lineages&dataset-server=https://raw.githubusercontent.com/nextstrain/nextclade_data/wnv/data_output"
        - name: "Country map"
          url: "https://mapoplexus.genomium.org/?url={{[metadata]}}"
      metadataAdd:
        - name: lineage
          displayName: Lineage
          header: "Lineage"
          includeInDownloadsByDefault: true
          noInput: true
          generateIndex: true
          autocomplete: true
          initiallyVisible: true
          preprocessing:
            inputs: {input: nextclade.clade}
          order: 5
        - name: totalStopCodons
          displayName: Total stop codons
          type: int
          header: "Alignment and QC metrics"
          noInput: true
          preprocessing:
            inputs: {input: nextclade.qc.stopCodons.totalStopCodons}
        - name: stopCodons
          displayName: Stop codons
          header: "Alignment and QC metrics"
          noInput: true
          preprocessing:
            inputs: {input: nextclade.qc.stopCodons.stopCodons}
      website:
        <<: *website
        tableColumns:
          - sampleCollectionDate
          - earliestReleaseDate
          - authors
          - authorAffiliations
          - geoLocCountry
          - geoLocAdmin1
          - length
          - lineage
        defaultOrderBy: sampleCollectionDate
        defaultOrder: descending
    preprocessing:
      - <<: *preprocessing
        configFile:
          <<: *preprocessingConfigFile
          nextclade_dataset_name: nextstrain/wnv/all-lineages
          nextclade_dataset_server: https://raw.githubusercontent.com/nextstrain/nextclade_data/wnv/data_output
          genes: [capsid, prM, env, NS1, NS2A, NS2B, NS3, NS4A, 2K, NS4B, NS5]
      # - <<: *preprocessing
      #   version: 12
      #   configFile:
      #     <<: *preprocessingConfigFile
      #     nextclade_dataset_name: nextstrain/wnv/all-lineages
      #     nextclade_dataset_server: https://raw.githubusercontent.com/nextstrain/nextclade_data/wnv/data_output
      #     genes: [capsid, prM, env, NS1, NS2A, NS2B, NS3, NS4A, 2K, NS4B, NS5]
    ingest:
      <<: *ingest
      configFile:
        taxon_id: 3048448
        log_level: DEBUG
    enaDeposition:
      configFile:
        taxon_id: 11082
        scientific_name: "West Nile virus"
        molecule_type: "genomic RNA"
    referenceGenomes:
      singleReference:
        nucleotideSequences:
          - name: main
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/west-nile/reference.fasta]]"
            insdcAccessionFull: NC_009942.1
        genes:
          - name: 2K
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/west-nile/2K.fasta]]"
          - name: NS1
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/west-nile/NS1.fasta]]"
          - name: NS2A
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/west-nile/NS2A.fasta]]"
          - name: NS2B
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/west-nile/NS2B.fasta]]"
          - name: NS3
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/west-nile/NS3.fasta]]"
          - name: NS4A
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/west-nile/NS4A.fasta]]"
          - name: NS4B
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/west-nile/NS4B.fasta]]"
          - name: NS5
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/west-nile/NS5.fasta]]"
          - name: capsid
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/west-nile/capsid.fasta]]"
          - name: env
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/west-nile/env.fasta]]"
          - name: prM
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/west-nile/prM.fasta]]"
  cchf:
    <<: *defaultOrganismConfig
    schema:
      <<: *schema
      organismName: "Crimean-Congo Hemorrhagic Fever Virus"
      nucleotideSequences: [L, M, S]
      image: "/images/organisms/cchf_small.jpg"
      linkOuts:
        - name: "Nextclade (L)"
          maxNumberOfRecommendedEntries: 2000 # cchf L is ~12.5kB
          url: "https://clades.nextstrain.org/?input-fasta={{[unalignedNucleotideSequences:L+rich|fasta]}}&dataset-name=nextstrain/cchfv/linked/L&dataset-server=https://raw.githubusercontent.com/nextstrain/nextclade_data/cornelius-cchfv/data_output"
        - name: "Nextclade (M)"
          maxNumberOfRecommendedEntries: 5000 # cchf M is ~5kB
          url: "https://clades.nextstrain.org/?input-fasta={{[unalignedNucleotideSequences:M+rich|fasta]}}&dataset-name=nextstrain/cchfv/linked/M&dataset-server=https://raw.githubusercontent.com/nextstrain/nextclade_data/cornelius-cchfv/data_output"
        - name: "Nextclade (S)"
          maxNumberOfRecommendedEntries: 10000 # cchf S is ~1.7kB
          url: "https://clades.nextstrain.org/?input-fasta={{[unalignedNucleotideSequences:S+rich|fasta]}}&dataset-name=nextstrain/cchfv/linked/S&dataset-server=https://raw.githubusercontent.com/nextstrain/nextclade_data/cornelius-cchfv/data_output"
        - name: "Country map"
          url: "https://mapoplexus.genomium.org/?url={{[metadata]}}"
      metadataAdd:
        - name: totalStopCodons
          displayName: Total stop codons
          type: int
          header: "Alignment and QC metrics"
          noInput: true
          preprocessing:
            inputs: {input: nextclade.qc.stopCodons.totalStopCodons}
        - name: stopCodons
          displayName: Stop codons
          header: "Alignment and QC metrics"
          noInput: true
          preprocessing:
            inputs: {input: nextclade.qc.stopCodons.stopCodons}
      website:
        <<: *website
        tableColumns:
          - sampleCollectionDate
          - geoLocCountry
          - geoLocAdmin1
          - authors
          - authorAffiliations
          - earliestReleaseDate
          - hostNameScientific
          - length_M
          - length_S
          - length_L
        defaultOrderBy: sampleCollectionDate
        defaultOrder: descending
    preprocessing:
      - <<: *preprocessing
        configFile:
          <<: *preprocessingConfigFile
          log_level: DEBUG
          nextclade_dataset_name: nextstrain/cchfv/linked
          nextclade_dataset_server: https://raw.githubusercontent.com/nextstrain/nextclade_data/cornelius-cchfv/data_output
          genes: [RdRp, GPC, NP]
      # - <<: *preprocessing
      #   version: 12
      #   configFile:
      #     <<: *preprocessingConfigFile
      #     log_level: DEBUG
      #     nextclade_dataset_name: nextstrain/cchfv/linked
      #     nextclade_dataset_server: https://raw.githubusercontent.com/nextstrain/nextclade_data/cornelius-cchfv/data_output
      #     genes: [RdRp, GPC, NP]
    ingest:
      <<: *ingest
      configFile:
        <<: *ingestConfigFile
        taxon_id: 3052518
        segment_identification:
          method: "align"
          nextclade_dataset_name: nextstrain/cchfv/linked
          nextclade_dataset_server: https://raw.githubusercontent.com/nextstrain/nextclade_data/cornelius-cchfv/data_output
    enaDeposition:
      configFile:
        taxon_id: 3052518
        scientific_name: "Orthonairovirus haemorrhagiae"
        molecule_type: "genomic RNA"
    referenceGenomes:
      singleReference:
        nucleotideSequences:
          - name: L
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/cchf/reference_L.fasta]]"
            insdcAccessionFull: NC_005301.3
          - name: M
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/cchf/reference_M.fasta]]"
            insdcAccessionFull: NC_005300.2
          - name: S
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/cchf/reference_S.fasta]]"
            insdcAccessionFull: NC_005302.1
        genes:
          - name: RdRp
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/cchf/RdRp.fasta]]"
          - name: GPC
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/cchf/GPC.fasta]]"
          - name: NP
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/cchf/NP.fasta]]"
  mpox:
    <<: *defaultOrganismConfig
    schema:
      <<: *schema
      organismName: "Mpox Virus"
      image: "/images/organisms/mpox_small.jpg"
      linkOuts:
        - name: "Nextclade"
          maxNumberOfRecommendedEntries: 200 # Nextclade handles ~80MB of sequences, mpox is ~197kB
          url: "https://clades.nextstrain.org/?input-fasta={{[unalignedNucleotideSequences+rich|fasta]}}&dataset-name=nextstrain/mpox/all-clades"
        - name: "Country map"
          url: "https://mapoplexus.genomium.org/?url={{[metadata]}}"
      metadataAdd:
        - name: clade
          displayName: Clade
          header: "Clade & Lineage"
          includeInDownloadsByDefault: true
          noInput: true
          generateIndex: true
          autocomplete: true
          initiallyVisible: true
          preprocessing:
            inputs: {input: nextclade.clade}
          columnWidth: 60
          order: 5
        - name: outbreak
          displayName: Outbreak
          header: "Clade & Lineage"
          includeInDownloadsByDefault: true
          noInput: true
          generateIndex: true
          autocomplete: true
          preprocessing:
            inputs: {input: nextclade.customNodeAttributes.outbreak}
          columnWidth: 74
          order: 6
        - name: lineage
          displayName: Lineage
          header: "Clade & Lineage"
          includeInDownloadsByDefault: true
          noInput: true
          generateIndex: true
          autocomplete: true
          initiallyVisible: true
          preprocessing:
            inputs: {input: nextclade.customNodeAttributes.lineage}
          columnWidth: 64
          order: 7
          lineageSystem: mpox
        - name: totalStopCodons
          displayName: Total stop codons
          type: int
          header: "Alignment and QC metrics"
          noInput: true
          preprocessing:
            inputs: {input: nextclade.qc.stopCodons.totalStopCodons}
        - name: stopCodons
          displayName: Stop codons
          header: "Alignment and QC metrics"
          noInput: true
          preprocessing:
            inputs: {input: nextclade.qc.stopCodons.stopCodons}
        - &gisaidIsolateIdMetadataField
          name: gisaidIsolateId
          displayName: GISAID Isolate ID
          header: "Sample details"
          definition: "GISAID EPI isolate ID (also known as EPI_ISL ID)"
          guidance: "Add the GISAID isolate ID if sequence has also been uploaded to GISAID"
          example: "EPI_ISL_123456"
          preprocessing:
            function: check_regex
            inputs:
              regex_field: gisaidIsolateId
            args:
              pattern: "^EPI_ISL_[0-9]+$"
      website:
        <<: *website
        tableColumns:
          - sampleCollectionDate
          - geoLocCountry
          - geoLocAdmin1
          - authors
          - authorAffiliations
          - earliestReleaseDate
          - clade
          - lineage
          - length
        defaultOrderBy: sampleCollectionDate
        defaultOrder: descending
    preprocessing:
      - <<: *preprocessing
        replicas: 3
        version: 11
        configFile:
          <<: *preprocessingConfigFile
          nextclade_dataset_name: nextstrain/mpox/all-clades
          nextclade_dataset_tag: 2025-04-25--12-24-24Z
          batch_size: 5
          genes: &mpoxGenes
            - OPG001
            - OPG002
            - OPG003
            - OPG005
            - OPG015
            - OPG016
            - OPG019
            - OPG021
            - OPG022
            - OPG023
            - OPG024
            - OPG025
            - OPG027
            - OPG029
            - OPG030
            - OPG031
            - OPG034
            - OPG035
            - OPG036
            - OPG037
            - OPG038
            - OPG039
            - OPG040
            - OPG042
            - OPG043
            - OPG044
            - OPG045
            - OPG046
            - OPG047
            - OPG048
            - OPG049
            - OPG050
            - OPG051
            - OPG052
            - OPG053
            - OPG054
            - OPG055
            - OPG056
            - OPG057
            - OPG058
            - OPG059
            - OPG060
            - OPG061
            - OPG062
            - OPG063
            - OPG064
            - OPG065
            - OPG066
            - OPG068
            - OPG069
            - OPG070
            - OPG071
            - OPG072
            - OPG073
            - OPG074
            - OPG075
            - OPG076
            - OPG077
            - OPG078
            - OPG079
            - OPG080
            - OPG081
            - OPG082
            - OPG083
            - OPG084
            - OPG085
            - OPG086
            - OPG087
            - OPG088
            - OPG089
            - OPG090
            - OPG091
            - OPG092
            - OPG093
            - OPG094
            - OPG095
            - OPG096
            - OPG097
            - OPG098
            - OPG099
            - OPG100
            - OPG101
            - OPG102
            - OPG103
            - OPG104
            - OPG105
            - OPG106
            - OPG107
            - OPG108
            - OPG109
            - OPG110
            - OPG111
            - OPG112
            - OPG113
            - OPG114
            - OPG115
            - OPG116
            - OPG117
            - OPG118
            - OPG119
            - OPG120
            - OPG121
            - OPG122
            - OPG123
            - OPG124
            - OPG125
            - OPG126
            - OPG127
            - OPG128
            - OPG129
            - OPG130
            - OPG131
            - OPG132
            - OPG133
            - OPG134
            - OPG135
            - OPG136
            - OPG137
            - OPG138
            - OPG139
            - OPG140
            - OPG141
            - OPG142
            - OPG143
            - OPG144
            - OPG145
            - OPG146
            - OPG147
            - OPG148
            - OPG149
            - OPG150
            - OPG151
            - OPG153
            - OPG154
            - OPG155
            - OPG156
            - OPG157
            - OPG158
            - OPG159
            - OPG160
            - OPG161
            - OPG162
            - OPG163
            - OPG164
            - OPG165
            - OPG166
            - OPG167
            - OPG170
            - OPG171
            - OPG172
            - OPG173
            - OPG174
            - OPG175
            - OPG176
            - OPG178
            - OPG180
            - OPG181
            - OPG185
            - OPG187
            - OPG188
            - OPG189
            - OPG190
            - OPG191
            - OPG192
            - OPG193
            - OPG195
            - OPG197
            - OPG198
            - OPG199
            - OPG200
            - OPG204
            - OPG205
            - OPG208
            - OPG209
            - OPG210
      # - <<: *preprocessing
      #   replicas: 3
      #   version: 12
      #   configFile:
      #     <<: *preprocessingConfigFile
      #     nextclade_dataset_name: nextstrain/mpox/all-clades
      #     nextclade_dataset_tag: 2025-04-25--12-24-24Z
      #     batch_size: 5
      #     genes: *mpoxGenes
    ingest:
      <<: *ingest
      configFile:
        <<: *ingestConfigFile
        taxon_id: 10244
    enaDeposition:
      configFile:
        taxon_id: 10244
        scientific_name: "Monkeypox virus"
        molecule_type: "genomic DNA"
    referenceGenomes:
      singleReference:
        nucleotideSequences:
          - name: "main"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/mpox/reference.fasta]]"
            insdcAccessionFull: NC_063383.1
        genes:
          - name: OPG001
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG001.fa]]"
          - name: OPG002
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG002.fa]]"
          - name: OPG003
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG003.fa]]"
          - name: OPG005
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG005.fa]]"
          - name: OPG015
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG015.fa]]"
          - name: OPG016
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG016.fa]]"
          - name: OPG019
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG019.fa]]"
          - name: OPG021
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG021.fa]]"
          - name: OPG022
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG022.fa]]"
          - name: OPG023
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG023.fa]]"
          - name: OPG024
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG024.fa]]"
          - name: OPG025
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG025.fa]]"
          - name: OPG027
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG027.fa]]"
          - name: OPG029
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG029.fa]]"
          - name: OPG030
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG030.fa]]"
          - name: OPG031
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG031.fa]]"
          - name: OPG034
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG034.fa]]"
          - name: OPG035
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG035.fa]]"
          - name: OPG036
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG036.fa]]"
          - name: OPG037
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG037.fa]]"
          - name: OPG038
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG038.fa]]"
          - name: OPG039
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG039.fa]]"
          - name: OPG040
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG040.fa]]"
          - name: OPG042
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG042.fa]]"
          - name: OPG043
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG043.fa]]"
          - name: OPG044
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG044.fa]]"
          - name: OPG045
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG045.fa]]"
          - name: OPG046
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG046.fa]]"
          - name: OPG047
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG047.fa]]"
          - name: OPG048
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG048.fa]]"
          - name: OPG049
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG049.fa]]"
          - name: OPG050
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG050.fa]]"
          - name: OPG051
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG051.fa]]"
          - name: OPG052
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG052.fa]]"
          - name: OPG053
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG053.fa]]"
          - name: OPG054
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG054.fa]]"
          - name: OPG055
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG055.fa]]"
          - name: OPG056
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG056.fa]]"
          - name: OPG057
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG057.fa]]"
          - name: OPG058
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG058.fa]]"
          - name: OPG059
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG059.fa]]"
          - name: OPG060
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG060.fa]]"
          - name: OPG061
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG061.fa]]"
          - name: OPG062
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG062.fa]]"
          - name: OPG063
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG063.fa]]"
          - name: OPG064
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG064.fa]]"
          - name: OPG065
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG065.fa]]"
          - name: OPG066
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG066.fa]]"
          - name: OPG068
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG068.fa]]"
          - name: OPG069
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG069.fa]]"
          - name: OPG070
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG070.fa]]"
          - name: OPG071
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG071.fa]]"
          - name: OPG072
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG072.fa]]"
          - name: OPG073
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG073.fa]]"
          - name: OPG074
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG074.fa]]"
          - name: OPG075
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG075.fa]]"
          - name: OPG076
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG076.fa]]"
          - name: OPG077
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG077.fa]]"
          - name: OPG078
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG078.fa]]"
          - name: OPG079
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG079.fa]]"
          - name: OPG080
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG080.fa]]"
          - name: OPG081
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG081.fa]]"
          - name: OPG082
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG082.fa]]"
          - name: OPG083
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG083.fa]]"
          - name: OPG084
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG084.fa]]"
          - name: OPG085
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG085.fa]]"
          - name: OPG086
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG086.fa]]"
          - name: OPG087
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG087.fa]]"
          - name: OPG088
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG088.fa]]"
          - name: OPG089
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG089.fa]]"
          - name: OPG090
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG090.fa]]"
          - name: OPG091
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG091.fa]]"
          - name: OPG092
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG092.fa]]"
          - name: OPG093
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG093.fa]]"
          - name: OPG094
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG094.fa]]"
          - name: OPG095
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG095.fa]]"
          - name: OPG096
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG096.fa]]"
          - name: OPG097
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG097.fa]]"
          - name: OPG098
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG098.fa]]"
          - name: OPG099
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG099.fa]]"
          - name: OPG100
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG100.fa]]"
          - name: OPG101
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG101.fa]]"
          - name: OPG102
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG102.fa]]"
          - name: OPG103
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG103.fa]]"
          - name: OPG104
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG104.fa]]"
          - name: OPG105
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG105.fa]]"
          - name: OPG106
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG106.fa]]"
          - name: OPG107
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG107.fa]]"
          - name: OPG108
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG108.fa]]"
          - name: OPG109
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG109.fa]]"
          - name: OPG110
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG110.fa]]"
          - name: OPG111
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG111.fa]]"
          - name: OPG112
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG112.fa]]"
          - name: OPG113
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG113.fa]]"
          - name: OPG114
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG114.fa]]"
          - name: OPG115
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG115.fa]]"
          - name: OPG116
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG116.fa]]"
          - name: OPG117
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG117.fa]]"
          - name: OPG118
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG118.fa]]"
          - name: OPG119
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG119.fa]]"
          - name: OPG120
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG120.fa]]"
          - name: OPG121
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG121.fa]]"
          - name: OPG122
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG122.fa]]"
          - name: OPG123
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG123.fa]]"
          - name: OPG124
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG124.fa]]"
          - name: OPG125
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG125.fa]]"
          - name: OPG126
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG126.fa]]"
          - name: OPG127
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG127.fa]]"
          - name: OPG128
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG128.fa]]"
          - name: OPG129
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG129.fa]]"
          - name: OPG130
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG130.fa]]"
          - name: OPG131
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG131.fa]]"
          - name: OPG132
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG132.fa]]"
          - name: OPG133
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG133.fa]]"
          - name: OPG134
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG134.fa]]"
          - name: OPG135
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG135.fa]]"
          - name: OPG136
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG136.fa]]"
          - name: OPG137
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG137.fa]]"
          - name: OPG138
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG138.fa]]"
          - name: OPG139
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG139.fa]]"
          - name: OPG140
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG140.fa]]"
          - name: OPG141
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG141.fa]]"
          - name: OPG142
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG142.fa]]"
          - name: OPG143
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG143.fa]]"
          - name: OPG144
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG144.fa]]"
          - name: OPG145
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG145.fa]]"
          - name: OPG146
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG146.fa]]"
          - name: OPG147
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG147.fa]]"
          - name: OPG148
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG148.fa]]"
          - name: OPG149
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG149.fa]]"
          - name: OPG150
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG150.fa]]"
          - name: OPG151
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG151.fa]]"
          - name: OPG153
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG153.fa]]"
          - name: OPG154
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG154.fa]]"
          - name: OPG155
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG155.fa]]"
          - name: OPG156
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG156.fa]]"
          - name: OPG157
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG157.fa]]"
          - name: OPG158
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG158.fa]]"
          - name: OPG159
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG159.fa]]"
          - name: OPG160
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG160.fa]]"
          - name: OPG161
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG161.fa]]"
          - name: OPG162
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG162.fa]]"
          - name: OPG163
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG163.fa]]"
          - name: OPG164
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG164.fa]]"
          - name: OPG165
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG165.fa]]"
          - name: OPG166
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG166.fa]]"
          - name: OPG167
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG167.fa]]"
          - name: OPG170
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG170.fa]]"
          - name: OPG171
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG171.fa]]"
          - name: OPG172
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG172.fa]]"
          - name: OPG173
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG173.fa]]"
          - name: OPG174
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG174.fa]]"
          - name: OPG175
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG175.fa]]"
          - name: OPG176
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG176.fa]]"
          - name: OPG178
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG178.fa]]"
          - name: OPG180
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG180.fa]]"
          - name: OPG181
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG181.fa]]"
          - name: OPG185
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG185.fa]]"
          - name: OPG187
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG187.fa]]"
          - name: OPG188
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG188.fa]]"
          - name: OPG189
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG189.fa]]"
          - name: OPG190
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG190.fa]]"
          - name: OPG191
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG191.fa]]"
          - name: OPG192
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG192.fa]]"
          - name: OPG193
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG193.fa]]"
          - name: OPG195
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG195.fa]]"
          - name: OPG197
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG197.fa]]"
          - name: OPG198
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG198.fa]]"
          - name: OPG199
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG199.fa]]"
          - name: OPG200
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG200.fa]]"
          - name: OPG204
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG204.fa]]"
          - name: OPG205
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG205.fa]]"
          - name: OPG208
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG208.fa]]"
          - name: OPG209
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG209.fa]]"
          - name: OPG210
            sequence: "[[URL:https://theosanderson.github.io/mpox/OPG210.fa]]"
  rsv-a:
    <<: *defaultOrganismConfig
    schema:
      <<: *schema
      organismName: "RSV-A"
      image: "/images/organisms/rsv-adjusted.jpg"
      linkOuts:
        - name: "Nextclade"
          maxNumberOfRecommendedEntries: 1300 # RSV is ~15kB
          url: "https://clades.nextstrain.org/?input-fasta={{[unalignedNucleotideSequences+rich|fasta]}}&dataset-name=nextstrain/rsv/a/EPI_ISL_412866"
        - name: "Country map"
          url: "https://mapoplexus.genomium.org/?url={{[metadata]}}"
      metadataAdd:
        - name: lineage
          displayName: Lineage
          noInput: true
          header: "Lineage"
          generateIndex: true
          autocomplete: true
          initiallyVisible: true
          includeInDownloadsByDefault: true
          preprocessing:
            inputs: { input: nextclade.clade }
          columnWidth: 80
          order: 5
          lineageSystem: rsv-a
        - name: subtype
          displayName: Subtype
          noInput: true
          header: "INSDC"
          ingest: subtype
          hideOnSequenceDetailsPage: true
          hideInSearchResultsTable: true
          notSearchable: true
        - <<: *gisaidIsolateIdMetadataField
      website:
        <<: *website
        tableColumns:
          - sampleCollectionDate
          - earliestReleaseDate
          - authors
          - authorAffiliations
          - geoLocCountry
          - geoLocAdmin1
          - length
          - lineage
        defaultOrderBy: sampleCollectionDate
        defaultOrder: descending
    preprocessing:
      - <<: *preprocessing
        replicas: 3
        configFile:
          <<: *preprocessingConfigFile
          nextclade_dataset_name: "nextstrain/rsv/a/EPI_ISL_412866"
          nextclade_dataset_tag: "2024-11-27--02-51-00Z"
          require_nextclade_sort_match: true
          minimizer_url: "https://anna-parker.github.io/InfluenzaAReferenceDB/results/rsv_segments.minimizer.json"
          accepted_dataset_matches: 
            - rsv-a
          genes: [ "F", "G", "L", "M", "M2-1", "M2-2", "N", "NS1", "NS2", "P", "SH" ]
      # - <<: *preprocessing
      #   version: 12
      #   replicas: 3
      #   configFile:
      #     <<: *preprocessingConfigFile
      #     nextclade_dataset_name: "nextstrain/rsv/a/EPI_ISL_412866"
      #     nextclade_dataset_tag: "2024-11-27--02-51-00Z"
      #     require_nextclade_sort_match: true
      #     minimizer_url: "https://anna-parker.github.io/InfluenzaAReferenceDB/results/rsv_segments.minimizer.json"
      #     accepted_dataset_matches: 
      #       - rsv-a
      #     genes: [ "F", "G", "L", "M", "M2-1", "M2-2", "N", "NS1", "NS2", "P", "SH" ]
    ingest:
      <<: *ingest
      configFile:
        taxon_id: 11250
        minimizer_index: "https://anna-parker.github.io/InfluenzaAReferenceDB/results/rsv_segments.minimizer.json"
        minimizer_parser: # Name of each '_' - separated entry in the minimizer index
          - subtype
        metadata_filter: 
          subtype: rsv-a
    enaDeposition:
      configFile:
        taxon_id: 208893
        scientific_name: "Human respiratory syncytial virus A"
        molecule_type: "genomic RNA"
    referenceGenomes:
      singleReference:
        nucleotideSequences:
          - name: "main"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-a/reference.fasta]]"
            insdcAccessionFull: PP109421.1
        genes:
          - name: "F"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-a/F.fasta]]"
          - name: "G"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-a/G.fasta]]"
          - name: "L"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-a/L.fasta]]"
          - name: "M"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-a/M.fasta]]"
          - name: "M2-1"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-a/M2-1.fasta]]"
          - name: "M2-2"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-a/M2-2.fasta]]"
          - name: "N"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-a/N.fasta]]"
          - name: "NS1"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-a/NS1.fasta]]"
          - name: "NS2"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-a/NS2.fasta]]"
          - name: "P"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-a/P.fasta]]"
          - name: "SH"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-a/SH.fasta]]"
  rsv-b:
    <<: *defaultOrganismConfig
    schema:
      <<: *schema
      organismName: "RSV-B"
      image: "/images/organisms/rsv.jpg"
      linkOuts:
        - name: "Nextclade"
          maxNumberOfRecommendedEntries: 1300 # RSV is ~15kB
          url: "https://clades.nextstrain.org/?input-fasta={{[unalignedNucleotideSequences+rich|fasta]}}&dataset-name=nextstrain/rsv/b/EPI_ISL_1653999"
        - name: "Country map"
          url: "https://mapoplexus.genomium.org/?url={{[metadata]}}"
      metadataAdd:
        - name: lineage
          displayName: Lineage
          noInput: true
          header: "Lineage"
          generateIndex: true
          autocomplete: true
          initiallyVisible: true
          includeInDownloadsByDefault: true
          preprocessing:
            inputs: { input: nextclade.clade }
          columnWidth: 80
          order: 5
          lineageSystem: rsv-b
        - name: subtype
          displayName: Subtype
          noInput: true
          header: "INSDC"
          ingest: subtype
          hideOnSequenceDetailsPage: true
          hideInSearchResultsTable: true
          notSearchable: true
        - <<: *gisaidIsolateIdMetadataField
      website:
        <<: *website
        tableColumns:
          - sampleCollectionDate
          - earliestReleaseDate
          - authors
          - authorAffiliations
          - geoLocCountry
          - geoLocAdmin1
          - length
          - lineage
        defaultOrderBy: sampleCollectionDate
        defaultOrder: descending
    preprocessing:
      - <<: *preprocessing
        replicas: 3
        configFile:
          <<: *preprocessingConfigFile
          nextclade_dataset_name: "nextstrain/rsv/b/EPI_ISL_1653999"
          nextclade_dataset_tag: "2025-03-04--17-31-25Z"
          require_nextclade_sort_match: true
          minimizer_url: "https://anna-parker.github.io/InfluenzaAReferenceDB/results/rsv_segments.minimizer.json"
          accepted_dataset_matches: 
            - rsv-b
          genes: [ "F", "G", "L", "M", "M2-1", "M2-2", "N", "NS1", "NS2", "P", "SH" ]
      # - <<: *preprocessing
      #   version: 12
      #   replicas: 3
      #   configFile:
      #     <<: *preprocessingConfigFile
      #     nextclade_dataset_name: "nextstrain/rsv/b/EPI_ISL_1653999"
      #     nextclade_dataset_tag: "2025-03-04--17-31-25Z"
      #     require_nextclade_sort_match: true
      #     minimizer_url: "https://anna-parker.github.io/InfluenzaAReferenceDB/results/rsv_segments.minimizer.json"
      #     accepted_dataset_matches: 
      #       - rsv-b
      #     genes: [ "F", "G", "L", "M", "M2-1", "M2-2", "N", "NS1", "NS2", "P", "SH" ]
    ingest:
      <<: *ingest
      configFile:
        taxon_id: 11250
        minimizer_index: "https://anna-parker.github.io/InfluenzaAReferenceDB/results/rsv_segments.minimizer.json"
        minimizer_parser: # Name of each '_' - separated entry in the minimizer index
          - subtype
        metadata_filter: 
          subtype: rsv-b
    enaDeposition:
      configFile:
        taxon_id: 208895
        scientific_name: "Human respiratory syncytial virus B"
        molecule_type: "genomic RNA"
    referenceGenomes:
      singleReference:
        nucleotideSequences:
          - name: "main"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-b/reference.fasta]]"
            insdcAccessionFull: OP975389.1
        genes:
          - name: "F"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-b/F.fasta]]"
          - name: "G"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-b/G.fasta]]"
          - name: "L"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-b/L.fasta]]"
          - name: "M"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-b/M.fasta]]"
          - name: "M2-1"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-b/M2-1.fasta]]"
          - name: "M2-2"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-b/M2-2.fasta]]"
          - name: "N"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-b/N.fasta]]"
          - name: "NS1"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-b/NS1.fasta]]"
          - name: "NS2"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-b/NS2.fasta]]"
          - name: "P"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-b/P.fasta]]"
          - name: "SH"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/rsv-b/SH.fasta]]"
  hmpv:
    <<: *defaultOrganismConfig
    schema:
      <<: *schema
      organismName: "HMPV"
      image: "/images/organisms/hmpv.jpg"
      linkOuts:
        - name: "Nextclade"
          maxNumberOfRecommendedEntries: 1500 # HMPV is ~13kB
          url: "https://clades.nextstrain.org/?input-fasta={{[unalignedNucleotideSequences+rich|fasta]}}&dataset-name=nextstrain/hmpv/all-clades/NC_039199"
        - name: "Country map"
          url: "https://mapoplexus.genomium.org/?url={{[metadata]}}"
      metadataAdd:
        - name: lineage
          displayName: Lineage
          noInput: true
          header: "Lineage"
          generateIndex: true
          autocomplete: true
          initiallyVisible: true
          includeInDownloadsByDefault: true
          preprocessing:
            inputs: { input: nextclade.clade }
          columnWidth: 80
          order: 5
          lineageSystem: hmpv
      website: 
        <<: *website
        tableColumns:
          - sampleCollectionDate
          - earliestReleaseDate
          - authors
          - authorAffiliations
          - geoLocCountry
          - geoLocAdmin1
          - length
          - lineage
        defaultOrderBy: sampleCollectionDate
        defaultOrder: descending
    preprocessing:
      - <<: *preprocessing
        configFile:
          <<: *preprocessingConfigFile
          nextclade_dataset_name: "nextstrain/hmpv/all-clades/NC_039199"
          nextclade_dataset_tag: "2025-04-25--12-24-24Z"
          genes: [ "F", "G", "L", "M", "N", "M2-1", "M2-2", "P", "SH" ]
      # - <<: *preprocessing
      #   version: 12
      #   configFile:
      #     <<: *preprocessingConfigFile
      #     nextclade_dataset_name: "nextstrain/hmpv/all-clades/NC_039199"
      #     nextclade_dataset_tag: "2025-04-25--12-24-24Z"
      #     genes: [ "F", "G", "L", "M", "N", "M2-1", "M2-2", "P", "SH" ]
    ingest:
      <<: *ingest
      configFile:
        taxon_id: 162145
    enaDeposition:
      configFile:
        taxon_id: 162145
        scientific_name: "Human Metapneumovirus"
        molecule_type: "genomic RNA"
    referenceGenomes:
      singleReference:
        nucleotideSequences:
          - name: "main"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/hmpv/reference.fasta]]"
            insdcAccessionFull: NC_039199.1
        genes:
          - name: "F"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/hmpv/F.fasta]]"
          - name: "G"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/hmpv/G.fasta]]"
          - name: "L"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/hmpv/L.fasta]]"
          - name: "M"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/hmpv/M.fasta]]"
          - name: "M2-1"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/hmpv/M2-1.fasta]]"
          - name: "M2-2"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/hmpv/M2-2.fasta]]"
          - name: "N"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/hmpv/N.fasta]]"
          - name: "P"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/hmpv/P.fasta]]"
          - name: "SH"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/hmpv/SH.fasta]]"
  measles:
    <<: *defaultOrganismConfig
    schema:
      <<: *schema
      organismName: "Measles Virus"
      image: "/images/organisms/measles_small.jpg"
      linkOuts:
        - name: "Country map"
          url: "https://mapoplexus.genomium.org/?url={{[metadata]}}"
        - name: "Nextclade"
          maxNumberOfRecommendedEntries: 1000 # Measles is ~15.9kB
          url: "https://clades.nextstrain.org/?input-fasta={{[unalignedNucleotideSequences+rich|fasta]}}&dataset-name=nextstrain/measles/genome/WHO-2012"
      metadataAdd:
        - name: genotype
          displayName: Genotype
          header: "Genotype"
          includeInDownloadsByDefault: true
          noInput: true
          generateIndex: true
          autocomplete: true
          initiallyVisible: true
          preprocessing:
            inputs: {input: nextclade.clade}
          order: 5
      website: 
        <<: *website
        tableColumns:
          - sampleCollectionDate
          - earliestReleaseDate
          - authors
          - authorAffiliations
          - genotype
          - geoLocCountry
          - geoLocAdmin1
          - length
        defaultOrderBy: sampleCollectionDate
        defaultOrder: descending
    preprocessing:
      - <<: *preprocessing
        replicas: 5
        configFile:
          <<: *preprocessingConfigFile
          nextclade_dataset_name: "nextstrain/measles/genome/WHO-2012"
          nextclade_dataset_tag: "2025-08-11--19-06-01Z"
          genes: [ "C", "F", "H", "L", "M", "N", "P", "V" ]
    ingest:
      <<: *ingest
      configFile:
        taxon_id: 11234
    enaDeposition:
      configFile:
        taxon_id: 11234
        scientific_name: "Measles morbillivirus"
        molecule_type: "genomic RNA"
    referenceGenomes:
      singleReference:
        nucleotideSequences:
          - name: "main"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/measles/reference.fasta]]"
            insdcAccessionFull: NC_001498.1
        genes:
          - name: "C"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/measles/C.fasta]]"
          - name: "F"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/measles/F.fasta]]"
          - name: "H"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/measles/H.fasta]]"
          - name: "L"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/measles/L.fasta]]"
          - name: "M"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/measles/M.fasta]]"
          - name: "N"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/measles/N.fasta]]"
          - name: "P"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/measles/P.fasta]]"
          - name: "V"
            sequence: "[[URL:https://corneliusroemer.github.io/seqs/artefacts/measles/V.fasta]]"
ingest:
  mirrorBucket: "https://hel1.your-objectstorage.com/loculus-public/mirror/"
defaultResources:
  requests:
    memory: "10Mi"
    cpu: "10m"
  limits:
    memory: "1Gi"
    cpu: "1000m"

resources:
  ingest:
    requests:
      memory: "1Gi"
      cpu: "50m"
    limits:
      cpu: "200m"
      memory: "10Gi"
  backend:
    requests:
      memory: "640Mi"
      cpu: "100m"
    limits:
      memory: "3Gi" # Backend requires at least 635741K of memory
